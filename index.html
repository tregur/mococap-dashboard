<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoCo CAP Impact Dashboard 2.0</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.1" integrity="sha384-jb8JQMbMoBUzgWatfe6COACi2ljcDdZQ2OxczGA3bGNeWe+6DChMTBJemed7ZnvJ" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <style>
        :root {
            --g: #2d6a1e;
            --g2: #1a4d12;
            --gl: #e8f5e1;
            --gl2: #f0f7eb;
            --a: #c49000;
            --a2: #8a6500;
            --al: #fff8e1;
            --r: #b33a2a;
            --rl: #fce8e6;
            --t1: #111;
            --t2: #444;
            --t3: #777;
            --t4: #aaa;
            --bg: #f3f2ee;
            --card: #fff;
            --bdr: #e4e3df;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--t1);
            line-height: 1.6;
        }

        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .login-overlay.hidden {
            display: none;
        }

        .login-box {
            background: var(--card);
            padding: 3rem;
            border-radius: 8px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            max-width: 400px;
            width: 90%;
        }

        .login-box h2 {
            margin-bottom: 1.5rem;
            color: var(--g2);
            text-align: center;
        }

        .login-box input {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border: 1px solid var(--bdr);
            border-radius: 4px;
            font-size: 1rem;
        }

        .login-box button {
            width: 100%;
            padding: 0.75rem;
            background: var(--g);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: 600;
        }

        .login-box button:hover {
            background: var(--g2);
        }

        .content {
            display: none;
        }

        .content.visible {
            display: block;
        }

        nav {
            background: var(--g);
            color: white;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        nav .container {
            max-width: 1440px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        nav h1 {
            font-size: 1.3rem;
            margin-right: 2rem;
        }

        nav .nav-links {
            display: flex;
            gap: 1.5rem;
            overflow-x: auto;
            flex: 1;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-size: 0.9rem;
            white-space: nowrap;
            cursor: pointer;
            opacity: 0.9;
        }

        nav a:hover {
            opacity: 1;
        }

        .container {
            max-width: 1440px;
            margin: 0 auto;
            padding: 1rem;
        }

        .filter-bar {
            background: var(--card);
            border: 1px solid var(--bdr);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-group label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--t2);
            margin-bottom: 0.3rem;
        }

        .filter-group select {
            padding: 0.6rem;
            border: 1px solid var(--bdr);
            border-radius: 4px;
            font-size: 0.9rem;
            background: white;
            color: var(--t1);
            cursor: pointer;
        }

        .filter-info {
            grid-column: 1 / -1;
            font-size: 0.85rem;
            color: var(--t3);
            font-style: italic;
        }

        .hero {
            background: linear-gradient(135deg, var(--gl2) 0%, var(--al) 100%);
            border: 1px solid var(--bdr);
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
            color: var(--t1);
        }

        .hero h2 {
            color: var(--g2);
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }

        .hero-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .chart-container {
            position: relative;
            height: 350px;
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        .stat-card {
            background: var(--card);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--g);
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .stat-card .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--g2);
            margin: 0.5rem 0;
        }

        .stat-card .label {
            font-size: 0.85rem;
            color: var(--t3);
        }

        .hero-insight {
            grid-column: 1 / -1;
            background: var(--card);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--a);
            font-size: 0.95rem;
            color: var(--t2);
            line-height: 1.6;
        }

        .insight-title {
            font-weight: 600;
            color: var(--a2);
            margin-bottom: 0.5rem;
        }

        section {
            margin: 3rem 0;
        }

        h2 {
            color: var(--g2);
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--gl);
        }

        h3 {
            color: var(--t1);
            font-size: 1.1rem;
            margin: 1.5rem 0 1rem 0;
        }

        .mo-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .mo-card {
            background: var(--card);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid var(--bdr);
            text-align: center;
        }

        .mo-card .metric {
            font-size: 0.75rem;
            color: var(--t3);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
        }

        .mo-card .values {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            gap: 0.5rem;
        }

        .mo-card .nov {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--t1);
        }

        .mo-card .arrow {
            font-size: 1.3rem;
        }

        .mo-card .dec {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--t1);
        }

        .mo-card .delta {
            font-size: 0.8rem;
            font-weight: 600;
        }

        .delta.up {
            color: #22c55e;
        }

        .delta.down {
            color: #ef4444;
        }

        .so-what {
            background: var(--gl2);
            border-left: 4px solid var(--g);
            padding: 1rem;
            border-radius: 4px;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: var(--t2);
        }

        .so-what-title {
            font-weight: 600;
            color: var(--g2);
            margin-bottom: 0.3rem;
        }

        .recommended-action {
            background: var(--al);
            border-left: 4px solid var(--a);
            padding: 1rem;
            border-radius: 4px;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: var(--t2);
        }

        .recommended-action-title {
            font-weight: 600;
            color: var(--a2);
            margin-bottom: 0.3rem;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .kpi {
            background: var(--card);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--bdr);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .kpi .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--g);
            margin: 0.5rem 0;
        }

        .kpi .label {
            font-size: 0.85rem;
            color: var(--t3);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .table-container {
            overflow-x: auto;
            margin-top: 1rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--card);
            border: 1px solid var(--bdr);
            border-radius: 8px;
            overflow: hidden;
        }

        th {
            background: var(--g);
            color: white;
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        td {
            padding: 0.75rem;
            border-bottom: 1px solid var(--bdr);
            font-size: 0.85rem;
        }

        tr:hover {
            background: var(--gl2);
        }

        .data-quality {
            background: var(--rl);
            border: 1px solid var(--r);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .data-quality h3 {
            color: var(--r);
            margin-top: 0;
        }

        .quality-bar {
            background: var(--bdr);
            height: 24px;
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .quality-bar-fill {
            background: var(--g);
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.75rem;
            font-weight: 600;
            transition: width 0.3s ease;
        }

        .upload-section {
            background: var(--card);
            border: 2px dashed var(--bdr);
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            margin: 2rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-section:hover {
            border-color: var(--g);
            background: var(--gl2);
        }

        .upload-section input[type="file"] {
            display: none;
        }

        footer {
            background: var(--t1);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
            font-size: 0.85rem;
        }

        .flags-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .flag-card {
            background: var(--rl);
            border-left: 4px solid var(--r);
            padding: 1rem;
            border-radius: 4px;
        }

        .flag-school {
            font-weight: 600;
            color: var(--r);
            margin-bottom: 0.3rem;
        }

        .flag-reason {
            font-size: 0.85rem;
            color: var(--t2);
            margin-bottom: 0.3rem;
        }

        .flag-action {
            font-size: 0.8rem;
            color: var(--a2);
            background: var(--al);
            padding: 0.4rem;
            border-radius: 2px;
        }

        .riasec-correlation {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 1rem 0;
        }

        .riasec-type {
            background: var(--card);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--g);
        }

        .riasec-name {
            font-weight: 600;
            color: var(--g2);
            margin-bottom: 0.5rem;
        }

        .riasec-count {
            font-size: 0.9rem;
            color: var(--t3);
            margin-bottom: 0.5rem;
        }

        .career-list {
            font-size: 0.85rem;
            color: var(--t2);
            line-height: 1.6;
        }

        .career-list strong {
            color: var(--g2);
        }

        @media (max-width: 768px) {
            nav .nav-links {
                gap: 0.5rem;
            }

            nav a {
                font-size: 0.75rem;
            }

            .hero-content {
                grid-template-columns: 1fr;
            }

            .hero-stats {
                grid-template-columns: 1fr;
            }

            .mo-comparison {
                grid-template-columns: repeat(2, 1fr);
            }

            .kpi-grid {
                grid-template-columns: 1fr;
            }

            table {
                font-size: 0.75rem;
            }

            td, th {
                padding: 0.5rem;
            }

            .filter-bar {
                grid-template-columns: 1fr;
            }
        }

        @print {
            body {
                background: white;
            }

            .login-overlay, .filter-bar, nav {
                display: none;
            }

            section {
                page-break-inside: avoid;
            }

            table {
                page-break-inside: avoid;
            }
        }

/* ==================== CITATIONS ==================== */
.cite-ref {
    cursor: pointer;
    color: var(--g);
    font-size: 0.65rem;
    font-weight: 700;
    vertical-align: super;
    margin-left: 2px;
    text-decoration: none;
    border-bottom: 1px dotted var(--g);
    transition: all 0.2s;
}
.cite-ref:hover {
    color: var(--a);
    border-color: var(--a);
}

.sources-sec {
    background: var(--card);
    border-radius: 8px;
    padding: 1.5rem 2rem;
    margin-bottom: 1.25rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    border: 1px solid var(--bdr);
    margin-top: 2rem;
}
.sources-sec h3 {
    font-size: 1rem;
    font-weight: 800;
    color: var(--g);
    margin-bottom: 1rem;
}
.src-list {
    list-style: none;
    counter-reset: src;
}
.src-list li {
    counter-increment: src;
    font-size: 0.78rem;
    color: var(--t2);
    line-height: 1.6;
    padding: 0.4rem 0;
    border-bottom: 1px solid #f0f0ec;
}
.src-list li:last-child {
    border-bottom: none;
}
.src-list li::before {
    content: '[' counter(src) '] ';
    font-weight: 700;
    color: var(--g);
}
.src-type {
    display: inline-block;
    font-size: 0.62rem;
    font-weight: 700;
    padding: 1px 6px;
    border-radius: 8px;
    text-transform: uppercase;
    letter-spacing: 0.4px;
    margin-right: 0.4rem;
}
.src-type.internal {
    background: var(--gl);
    color: var(--g);
}
.src-type.research {
    background: var(--al);
    color: var(--a2);
}
.src-type.public {
    background: #e8eaf6;
    color: #3949ab;
}
.src-type.method {
    background: #fce4ec;
    color: #c62828;
}

/* ==================== CONFIDENCE BADGES ==================== */
.conf-badge {
    display: inline-block;
    font-size: 0.58rem;
    font-weight: 700;
    padding: 1px 6px;
    border-radius: 8px;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    margin-left: 4px;
    vertical-align: middle;
    white-space: nowrap;
}
.conf-high {
    background: #e8f5e9;
    color: #2e7d32;
}
.conf-mod {
    background: #fff3e0;
    color: #e65100;
}
.conf-low {
    background: #fce4ec;
    color: #c62828;
}
.conf-insuf {
    background: #f5f5f5;
    color: #9e9e9e;
}
.moe {
    font-size: 0.68rem;
    color: var(--t3);
    font-weight: 600;
    margin-left: 3px;
}
.stat-note {
    font-size: 0.68rem;
    color: var(--t3);
    font-style: italic;
}

/* ==================== DATA DRILL-DOWN MODAL ==================== */
.modal-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.55);
    z-index: 10000;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(3px);
}
.modal-overlay.active {
    display: flex;
}
@keyframes pop {
    0% { transform: scale(0.9); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}
.modal-box {
    background: #fff;
    border-radius: 16px;
    max-width: 680px;
    width: 95%;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
    animation: pop 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}
.modal-head {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.25rem 1.5rem;
    border-bottom: 2px solid var(--gl);
    background: linear-gradient(135deg, var(--gl2), #fff);
    position: sticky;
    top: 0;
}
.modal-head h3 {
    font-size: 1.05rem;
    font-weight: 800;
    color: var(--g);
    margin: 0;
}
.modal-close {
    background: none;
    border: none;
    font-size: 1.4rem;
    cursor: pointer;
    color: var(--t3);
    padding: 0 0.3rem;
    transition: color 0.2s;
}
.modal-close:hover {
    color: var(--r);
}
.modal-body {
    padding: 1.5rem;
}
.modal-body .md-row {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0;
    border-bottom: 1px solid #f5f5f2;
    font-size: 0.82rem;
}
.modal-body .md-row:last-child {
    border-bottom: none;
}
.modal-body .md-label {
    color: var(--t3);
    font-weight: 600;
}
.modal-body .md-val {
    color: var(--t1);
    font-weight: 700;
}
.modal-body .md-method {
    background: var(--gl2);
    padding: 0.8rem 1rem;
    border-radius: 8px;
    margin: 0.75rem 0;
    font-size: 0.78rem;
    color: var(--t2);
    border-left: 3px solid var(--g);
    line-height: 1.5;
}
.modal-body .md-src {
    font-size: 0.72rem;
    color: var(--t4);
    margin-top: 0.75rem;
    padding-top: 0.5rem;
    border-top: 1px solid var(--bdr);
}
.modal-body table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.75rem;
    margin: 0.75rem 0;
}
.modal-body th {
    background: var(--g);
    color: #fff;
    padding: 0.4rem 0.6rem;
    text-align: left;
    font-size: 0.68rem;
    text-transform: uppercase;
    font-weight: 700;
}
.modal-body td {
    padding: 0.35rem 0.6rem;
    border-bottom: 1px solid #f0f0ec;
}
.modal-body tr:last-child td {
    border-bottom: none;
}

.clickable-metric {
    cursor: pointer;
    border-bottom: 1px dashed var(--a);
    transition: all 0.2s;
    font-weight: 600;
}
.clickable-metric:hover {
    color: var(--g);
    border-color: var(--g);
    text-decoration: none;
}

            
        /* BENCHMARKS */
        .bench-card{background:var(--card);border-radius:8px;padding:1.2rem;box-shadow:0 2px 4px rgba(0,0,0,0.05);border:1px solid var(--bdr);margin-bottom:.75rem;}
        .bench-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:.6rem;}
        .bench-metric{font-size:.85rem;font-weight:700;color:var(--t1);margin-bottom:.6rem;}
        .bench-vals{display:flex;gap:1.5rem;align-items:baseline;}
        .bench-ours{font-size:1.4rem;font-weight:800;color:var(--g);}
        .bench-natl{font-size:1rem;color:var(--t3);font-weight:600;}
        .bench-bar{height:8px;border-radius:4px;background:#f0f0ec;overflow:hidden;margin-bottom:.4rem;}
        .bench-fill{height:100%;border-radius:4px;transition:width .6s ease;}
        .bench-src{font-size:.68rem;color:var(--t4);font-style:italic;}
        .bench-delta{display:inline-block;font-size:.72rem;font-weight:700;padding:2px 8px;border-radius:10px;margin-left:.5rem;}
        .bench-delta.pos{background:var(--gl);color:var(--g);}
        .bench-delta.neg{background:var(--rl);color:var(--r);}

        /* COMPARISON */
        .comp-grid{display:grid;grid-template-columns:1fr auto 1fr;gap:0;margin:1rem 0;border-radius:8px;overflow:hidden;box-shadow:0 2px 4px rgba(0,0,0,0.05);}
        .comp-col{padding:.75rem 1rem;}
        .comp-with{background:linear-gradient(135deg,var(--gl2),var(--gl));border-radius:8px 0 0 8px;}
        .comp-vs{display:flex;align-items:center;justify-content:center;background:#f5f5f2;font-size:.85rem;font-weight:800;color:var(--t3);padding:0 .75rem;}
        .comp-without{background:#fafaf9;border-radius:0 8px 8px 0;border:1px solid var(--bdr);}
        .comp-row{display:flex;justify-content:space-between;padding:.55rem 0;border-bottom:1px solid rgba(0,0,0,.06);font-size:.82rem;}
        .comp-label{color:var(--t2);font-weight:600;flex:1;}
        .comp-val{font-weight:800;text-align:right;}
        .comp-with .comp-val{color:var(--g);}
        .comp-without .comp-val{color:var(--t3);}
        .comp-head{font-size:1rem;font-weight:800;padding:.6rem 0;border-bottom:2px solid rgba(0,0,0,.08);margin-bottom:.5rem;}
        .comp-with .comp-head{color:var(--g);}
        .comp-without .comp-head{color:var(--t3);}
        .comp-note{background:var(--al);border-left:4px solid var(--a);border-radius:8px;padding:1rem 1.2rem;margin-top:1rem;font-size:.78rem;color:var(--t2);line-height:1.5;}
        .comp-note strong{color:var(--a2);}
    

        /* Widget Enhancement Styles */
        .widget-insight {
            background: linear-gradient(135deg, #fefbe8, #fff9db);
            border-left: 4px solid var(--a);
            border-radius: 8px;
            padding: 0.85rem 1rem;
            margin: 0.75rem 0;
            font-size: 0.78rem;
            line-height: 1.5;
            color: var(--t2);
        }

        .widget-insight .flag-icon {
            font-size: 0.9rem;
            margin-right: 0.3rem;
        }

        .widget-insight strong {
            color: var(--a2);
        }

        .widget-insight.alert {
            border-left-color: var(--r);
            background: linear-gradient(135deg, #fff5f5, #ffebee);
        }

        .widget-insight.alert strong {
            color: var(--r);
        }

        .widget-insight.positive {
            border-left-color: var(--g);
            background: linear-gradient(135deg, var(--gl2), var(--gl));
        }

        .widget-insight.positive strong {
            color: var(--g);
        }

        .widget-filter {
            display: inline-flex;
            gap: 0.5rem;
            align-items: center;
            margin: 0.5rem 0;
            padding: 0.4rem 0.8rem;
            background: #fafaf8;
            border: 1px solid var(--bdr);
            border-radius: 8px;
            font-size: 0.75rem;
        }

        .widget-filter label {
            font-weight: 700;
            color: var(--t3);
        }

        .widget-filter select {
            padding: 0.25rem 0.4rem;
            border: 1px solid var(--bdr);
            border-radius: 6px;
            font-size: 0.72rem;
            background: #fff;
            cursor: pointer;
        }

        .seasonal-tag {
            display: inline-block;
            font-size: 0.6rem;
            font-weight: 700;
            padding: 2px 6px;
            border-radius: 6px;
            background: #e3f2fd;
            color: #1565c0;
            margin-left: 4px;
            text-transform: uppercase;
        }

        .flag-row {
            background: #fff9c4 !important;
        }

        .flag-badge {
            display: inline-block;
            font-size: 0.55rem;
            font-weight: 700;
            padding: 1px 5px;
            border-radius: 5px;
            margin-left: 3px;
        }

        .flag-badge.standout {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .flag-badge.warning {
            background: #fff3e0;
            color: #e65100;
        }

        .flag-badge.concern {
            background: #fce4ec;
            color: #c62828;
        }

        .month-annotation {
            font-size: 0.7rem;
            color: var(--t3);
            font-style: italic;
            margin-top: 0.3rem;
        }

        .widget-insight.congruence-insight {
            background: linear-gradient(135deg, #f3e5f5, #f1f0f6);
            border-left-color: #7b1fa2;
        }

        .widget-insight.congruence-insight strong {
            color: #7b1fa2;
        }
    

/* Executive Action Bar */
.exec-bar {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 1.5rem;
    margin-bottom: 2.5rem;
}
.exec-col {
    background: var(--card);
    border-radius: 8px;
    padding: 1.25rem;
    box-shadow: 0 1px 4px rgba(0,0,0,0.06);
}
.exec-col h3 {
    font-size: 0.95rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}
.exec-col.actions h3 { color: #1565c0; }
.exec-col.risks h3 { color: var(--r); }
.exec-col.wins h3 { color: var(--g2); }
.exec-item {
    padding: 0.6rem 0;
    border-bottom: 1px solid var(--bdr);
    font-size: 0.88rem;
    line-height: 1.5;
}
.exec-item:last-child { border-bottom: none; }
.exec-num {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    font-size: 0.72rem;
    font-weight: 700;
    color: white;
    margin-right: 0.5rem;
}
.exec-col.actions .exec-num { background: #1565c0; }
.exec-col.risks .exec-num { background: var(--r); }
.exec-col.wins .exec-num { background: var(--g); }

/* Benchmark cards enhanced */
.bench-card .bench-evidence {
    font-size: 0.78rem;
    color: var(--t3);
    margin-top: 0.4rem;
    padding: 0.4rem 0.6rem;
    background: var(--gl2);
    border-radius: 4px;
    line-height: 1.5;
}

@media (max-width: 900px) {
    .exec-bar { grid-template-columns: 1fr; }
}

/* Star Ratings */
.star-rating {
    display: inline-flex;
    align-items: center;
    gap: 2px;
    margin-top: 0.25rem;
}
.star-rating .star {
    font-size: 1.2rem;
    color: #ddd;
    position: relative;
    display: inline-block;
    width: 1.2rem;
    line-height: 1;
}
.star-rating .star::before {
    content: '\2605';
}
.star-rating .star.full::before {
    color: #f5a623;
}
.star-rating .star.partial {
    overflow: hidden;
}
.star-rating .star.partial::before {
    color: #ddd;
}
.star-rating .star.partial::after {
    content: '\2605';
    position: absolute;
    left: 0;
    top: 0;
    color: #f5a623;
    overflow: hidden;
}
.star-rating .star-value {
    font-size: 0.85rem;
    color: var(--t2);
    margin-left: 0.4rem;
    font-weight: 600;
}
    
    </style>
</head>
<body>
    <div class="login-overlay" id="loginOverlay">
        <div class="login-box">
            <h2>MoCo CAP Dashboard</h2>
            <input type="password" id="passwordInput" placeholder="Enter password" />
            <button onclick="checkPassword()">Access Dashboard</button>
        </div>
    </div>

    <div class="content" id="mainContent">
        <nav>
            <div class="container">
                <h1>MoCo CAP Impact Dashboard 2.0</h1>
                <div class="nav-links">
                    <a onclick="scrollToSection('execBar')" style="font-weight:700;">Executive Summary</a>
                    <a onclick="scrollToSection('hero')">Curriculum</a>
                    <a onclick="scrollToSection('benchmarks')">Benchmarks</a>
                    <a onclick="scrollToSection('comparison')">With vs Without</a>
                    <a onclick="scrollToSection('monthly')">Monthly</a>
                    <a onclick="scrollToSection('personality')">Pathways</a>
                    <a onclick="scrollToSection('impact')">Impact</a>
                    <a onclick="scrollToSection('schools')">Schools</a>
                    <a onclick="scrollToSection('sources')">Sources</a>
                </div>
            </div>
        </nav>

        <div class="container">
<!-- Executive Action Bar -->
            <div class="exec-bar" id="execBar">
                <div class="exec-col actions">
                    <h3>&#9889; Recommended Actions</h3>
                    <div class="exec-item"><span class="exec-num">1</span><strong>Re-engage 6 schools with zero survey data</strong> — They delivered sessions but captured no outcome data. Target: survey completion protocol by Feb 28.</div>
                    <div class="exec-item"><span class="exec-num">2</span><strong>Focus 1:1 advising on the 15% "Unsure" group</strong> — These students need deeper career exploration beyond classroom exposure. Deploy structured decision-making tools.</div>
                    <div class="exec-item"><span class="exec-num">3</span><strong>January momentum push</strong> — Re-engage schools that dropped off in Nov/Dec. Use "career resolution" theme to tie into new year motivation.</div>
                </div>
                <div class="exec-col risks">
                    <h3>&#9888;&#65039; Highest Risks</h3>
                    <div class="exec-item"><span class="exec-num">1</span><strong>Survey response rate: 33.4%</strong> — Two-thirds of sessions lack outcome data. Impact claims rest on a self-selected sample. Risk: survivorship bias.</div>
                    <div class="exec-item"><span class="exec-num">2</span><strong>Conventional-type students underserved</strong> — Smallest RIASEC group (N=2,357) shows lowest career clarity (18.2% Clear Plan vs 22.1% avg). May need tailored support.</div>
                    <div class="exec-item"><span class="exec-num">3</span><strong>Dec session dip signals engagement fragility</strong> — 2.3% volume drop + 3.2% helpfulness drop. If trend continues into Jan, the Oct peak may be a one-time spike, not sustained engagement.</div>
                </div>
                <div class="exec-col wins">
                    <h3>&#127942; Top Wins This Period</h3>
                    <div class="exec-item"><span class="exec-num">1</span><strong>Career clarity rose 3.3% in Dec</strong> despite session volume dropping. The curriculum works even at lower dosage — quality over quantity.</div>
                    <div class="exec-item"><span class="exec-num">2</span><strong>85.1% career-personality fit rate</strong> (N=2,962). Students choosing careers aligned with their RIASEC type at rates far above chance. Evidence of real self-knowledge.</div>
                    <div class="exec-item"><span class="exec-num">3</span><strong>Equity in dosage achieved</strong> — High-FARMS schools (&gt;40%) average 0.49 sessions/student vs 0.43 for low-FARMS. Program is reaching students who need it most.</div>
                </div>
            </div>
            
                        <div class="filter-bar">
                <div class="filter-group">
                    <label for="riasecFilter"><span class="clickable-metric" data-modal="riasec_dist">RIASEC</span> Personality</label>
                    <select id="riasecFilter" onchange="applyFilters()">
                        <option value="">All Types</option>
                        <option value="Realistic">Realistic</option>
                        <option value="Investigative">Investigative</option>
                        <option value="Artistic">Artistic</option>
                        <option value="Social">Social</option>
                        <option value="Enterprising">Enterprising</option>
                        <option value="Conventional">Conventional</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="gradeFilter">Grade</label>
                    <select id="gradeFilter" onchange="applyFilters()">
                        <option value="">All Grades</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="schoolFilter">School</label>
                    <select id="schoolFilter" onchange="applyFilters()">
                        <option value="">All Schools</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="coachFilter">Counselor/Coach</label>
                    <select id="coachFilter" onchange="applyFilters()">
                        <option value="">All Coaches</option>
                    </select>
                </div>
                <div class="filter-info">Filtered: <span id="filterInfo">65 of 65 schools | 47,163 students</span></div>
            </div>

            <div id="hero" class="hero">
                <h2>The MoCo CAP Curriculum: From Exploration to Career Clarity</h2>
                <div class="hero-content">
                    <div class="chart-container">
                        <canvas id="dosageChart"></canvas>
                    </div>
                    <div class="hero-stats">
                        <div class="stat-card">
                            <div class="label">Career Sessions</div>
                            <div class="value"><span class="clickable-metric" data-modal="sessions_ytd">49,467</span><a class="cite-ref" href="#sources">[1]</a></div>
                        </div>
                        <div class="stat-card">
                            <div class="label">Career-Personality Fit</div>
                            <div class="value"><span class="clickable-metric" data-modal="congruence">85.1%</span><a class="cite-ref" href="#sources">[2, 10]</a></div>
                        </div>
                        <div class="stat-card">
                            <div class="label">Clear Career Plan</div>
                            <div class="value"><span class="clickable-metric" data-modal="clear_plan">22.1%</span><a class="cite-ref" href="#sources">[1]</a></div>
                        </div>
                    </div>
                </div>
                <div class="hero-insight">
                    <div class="insight-title">The Dosage-Response Effect</div>
                    <p>Schools that expose students to more career sessions show consistently higher career certainty and clearer career plans. The curriculum doesn't just expose students to careers — it systematically builds self-awareness that translates into aligned, confident career choices.</p>
                </div>
            </div>

            <section id="theory">
                <h2>How the MoCo CAP Curriculum Creates Change</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 1.5rem;">
                    <div style="background: var(--card); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--g); text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--g2); margin: 0.5rem 0;">1. Exposure</div>
                        <div style="font-size: 0.85rem; color: var(--t3);">Students encounter diverse careers through immersive sessions</div>
                    </div>
                    <div style="background: var(--card); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--g); text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--g2); margin: 0.5rem 0;">2. Reflection</div>
                        <div style="font-size: 0.85rem; color: var(--t3);">Survey questions prompt self-discovery around preferences</div>
                    </div>
                    <div style="background: var(--card); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--g); text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--g2); margin: 0.5rem 0;">3. Awareness</div>
                        <div style="font-size: 0.85rem; color: var(--t3);">Students learn their <span class="clickable-metric" data-modal="riasec_dist">RIASEC</span> personality and career patterns</div>
                    </div>
                    <div style="background: var(--card); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--g); text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--g2); margin: 0.5rem 0;">4. Alignment</div>
                        <div style="font-size: 0.85rem; color: var(--t3);">Students choose careers matching their personality type</div>
                    </div>
                    <div style="background: var(--card); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--g); text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--g2); margin: 0.5rem 0;">5. Exploration</div>
                        <div style="font-size: 0.85rem; color: var(--t3);">More sessions → deeper exploration of aligned options</div>
                    </div>
                    <div style="background: var(--card); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--g); text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--g2); margin: 0.5rem 0;">6. Confidence</div>
                        <div style="font-size: 0.85rem; color: var(--t3);">Survey responses show higher certainty about futures</div>
                    </div>
                    <div style="background: var(--card); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--g); text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--g2); margin: 0.5rem 0;">7. Planning</div>
                        <div style="font-size: 0.85rem; color: var(--t3);">Students articulate specific post-secondary pathways</div>
                    </div>
                    <div style="background: var(--card); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--g); text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--g2); margin: 0.5rem 0;">8. Agency</div>
                        <div style="font-size: 0.85rem; color: var(--t3);">Students own their career narratives and futures</div>
                    </div>
                </div>
            </section>


            <section id="benchmarks">
            <h2>How MoCo CAP Compares — National Benchmarks</h2>
            <p style="color: var(--t3); font-size: 0.95rem; margin-bottom: 1.5rem; font-style: italic;">
                Every metric includes sample size, source, and study design so you can assess the evidence yourself.
            </p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <!-- 1. Career-Personality Congruence -->
                <div class="bench-card">
                    <div class="bench-metric">Career-Personality Congruence</div>
                    <div class="bench-row">
                        <div class="bench-vals">
                            <div class="bench-ours">85.1%</div>
                            <div class="bench-natl">vs ~50% typical</div>
                        </div>
                    </div>
                    <div class="bench-bar">
                        <div class="bench-fill" style="width: 85%; background: var(--g);"></div>
                    </div>
                    <div class="bench-evidence">
                        <strong>MoCo CAP:</strong> N=2,962 student-career matches scored against O*NET RIASEC codes.<br>
                        <strong>Benchmark:</strong> Tracey &amp; Robbins (2006), N=80,574 students across 87 colleges. Found congruence predicts GPA better than ACT scores. Typical HS congruence ~50% without structured intervention.<br>
                        <strong>Study Design:</strong> 5-year longitudinal. <a href="#sources" style="color: var(--a);">[11]</a>
                    </div>
                </div>

                <!-- 2. Earnings Impact -->
                <div class="bench-card">
                    <div class="bench-metric">Long-Term Earnings Impact</div>
                    <div class="bench-row">
                        <div class="bench-vals">
                            <div class="bench-ours">+$2,088/yr</div>
                            <div class="bench-natl">vs control group</div>
                        </div>
                    </div>
                    <div class="bench-bar">
                        <div class="bench-fill" style="width: 100%; background: var(--g);"></div>
                    </div>
                    <div class="bench-evidence">
                        <strong>Source:</strong> Kemple &amp; Willner (2008), MDRC Career Academies Study.<br>
                        <strong>Sample:</strong> N=1,764 students. Follow-up survey: N=1,428 (81% retention). 85% Hispanic or African-American.<br>
                        <strong>Study Design:</strong> Randomized Controlled Trial across 9 high schools. 8-year follow-up. Men: +17% earnings. Rated "High" evidence by DOL CLEAR. <a href="#sources" style="color: var(--a);">[9]</a>
                    </div>
                </div>

                <!-- 3. Graduation Rate -->
                <div class="bench-card">
                    <div class="bench-metric">Graduation Rate Boost (CTE Concentrators)</div>
                    <div class="bench-row">
                        <div class="bench-vals">
                            <div class="bench-ours">+21 pp</div>
                            <div class="bench-natl">vs non-concentrators</div>
                        </div>
                    </div>
                    <div class="bench-bar">
                        <div class="bench-fill" style="width: 100%; background: var(--g);"></div>
                    </div>
                    <div class="bench-evidence">
                        <strong>Source:</strong> Dougherty (2016), Thomas B. Fordham Institute / Univ. of Connecticut.<br>
                        <strong>Sample:</strong> N=104,000 students across 3 cohorts (2008-2010) in Arkansas. Low-income students: +25 pp.<br>
                        <strong>Study Design:</strong> Quasi-experimental with 3 statistical approaches. Published as ERIC ED570132. <a href="#sources" style="color: var(--a);">[6]</a>
                    </div>
                </div>

                <!-- 4. Career Self-Efficacy -->
                <div class="bench-card">
                    <div class="bench-metric">Career Counseling Effect on Self-Efficacy</div>
                    <div class="bench-row">
                        <div class="bench-vals">
                            <div class="bench-ours">g = 0.82</div>
                            <div class="bench-natl">"Large" effect</div>
                        </div>
                    </div>
                    <div class="bench-bar">
                        <div class="bench-fill" style="width: 82%; background: var(--g);"></div>
                    </div>
                    <div class="bench-evidence">
                        <strong>Source:</strong> Meta-analysis of individual career counseling, Journal of Employment Counseling (2023).<br>
                        <strong>Sample:</strong> k=35 independent samples. Career decision-making self-efficacy largest sub-effect (d=0.452). Replicated Oliver &amp; Spokane (1988) foundational finding.<br>
                        <strong>Study Design:</strong> Random-effects meta-analysis. Also found g=0.68 for mental health outcomes. <a href="#sources" style="color: var(--a);">[7]</a>
                    </div>
                </div>

                <!-- 5. Career Advising Dosage -->
                <div class="bench-card">
                    <div class="bench-metric">Career Exploration Dosage</div>
                    <div class="bench-row">
                        <div class="bench-vals">
                            <div class="bench-ours">7.6 sessions/student</div>
                            <div class="bench-natl">vs 1-2 national avg</div>
                        </div>
                    </div>
                    <div class="bench-bar">
                        <div class="bench-fill" style="width: 100%; background: var(--g);"></div>
                    </div>
                    <div class="bench-evidence">
                        <strong>MoCo CAP:</strong> 49,467 sessions / ~6,500 unique engaged students = 7.6 avg sessions per student this year.<br>
                        <strong>Context:</strong> National student-to-counselor ratio is 372:1 (ASCA, 2024-25). Most students receive 1-2 career-focused interactions/year. ASCA recommends 250:1 but only 4 states meet it.<br>
                        <strong>Source:</strong> ASCA School Counselor Roles &amp; Ratios (2024-25). <a href="#sources" style="color: var(--a);">[4]</a>
                    </div>
                </div>

                <!-- 6. College Persistence -->
                <div class="bench-card">
                    <div class="bench-metric">College Persistence (with Career Advising)</div>
                    <div class="bench-row">
                        <div class="bench-vals">
                            <div class="bench-ours">82.1%</div>
                            <div class="bench-natl">vs 64.2% without</div>
                        </div>
                    </div>
                    <div class="bench-bar">
                        <div class="bench-fill" style="width: 82%; background: var(--g);"></div>
                    </div>
                    <div class="bench-evidence">
                        <strong>Source:</strong> Advance CTE Research Round-Up (2024) citing Zane State study.<br>
                        <strong>Finding:</strong> Students with ≥1 career advising appointment persisted at 82.1% vs 64.2% for non-participants (+17.9 pp).<br>
                        <strong>Context:</strong> NACACE (2022) confirms graduating seniors using ≥1 career service received more job offers. <a href="#sources" style="color: var(--a);">[6]</a>
                    </div>
                </div>
            </div>
        </section>


            <section id="comparison">
            <h2>With Program vs Without — Top 3 Research Findings</h2>
            <p style="color: var(--t3); font-size: 0.95rem; margin-bottom: 1.5rem; font-style: italic;">
                The three most rigorous findings from randomized and quasi-experimental studies of career programs.
            </p>

            <div class="comp-note">
                <strong>Why these three?</strong> Selected for strongest study design (RCT or quasi-experimental), largest sample sizes, and most direct relevance to MoCo CAP's model.
            </div>

            <div style="margin-top: 1.5rem;">
                <div class="comp-grid">
                    <div class="comp-col comp-with">
                        <div class="comp-head">With Career Program</div>
                        <div class="comp-row">
                            <span class="comp-label">Annual Earnings (8yr post-HS)</span>
                            <span class="comp-val">$21,967</span>
                        </div>
                    </div>
                    <div class="comp-col comp-vs">vs</div>
                    <div class="comp-col comp-without">
                        <div class="comp-head">Without (Control)</div>
                        <div class="comp-row">
                            <span class="comp-label">Annual Earnings (8yr post-HS)</span>
                            <span class="comp-val">$19,764</span>
                        </div>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; font-size: 0.78rem;">
                    <span class="bench-evidence" style="flex:1; margin-right:1rem;"><strong>MDRC RCT</strong> | N=1,764 students | 9 high schools | 8yr follow-up | DOL "High" evidence rating. Men: +$361/mo (+16%). <a href="#sources" style="color: var(--a);">[9]</a></span>
                    <span class="bench-delta pos">+$2,203 (+11%)</span>
                </div>
            </div>

            <div style="margin-top: 1.5rem;">
                <div class="comp-grid">
                    <div class="comp-col comp-with">
                        <div class="comp-head">With CTE Concentration</div>
                        <div class="comp-row">
                            <span class="comp-label">4-Year Graduation Rate</span>
                            <span class="comp-val">+21 pp higher</span>
                        </div>
                    </div>
                    <div class="comp-col comp-vs">vs</div>
                    <div class="comp-col comp-without">
                        <div class="comp-head">Without CTE Concentration</div>
                        <div class="comp-row">
                            <span class="comp-label">4-Year Graduation Rate</span>
                            <span class="comp-val">Baseline</span>
                        </div>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; font-size: 0.78rem;">
                    <span class="bench-evidence" style="flex:1; margin-right:1rem;"><strong>Dougherty (2016)</strong> | N=104,000 students | 3 cohorts in Arkansas | Low-income: +25 pp | Males: +23 pp. <a href="#sources" style="color: var(--a);">[6]</a></span>
                    <span class="bench-delta pos">+21 pp</span>
                </div>
            </div>

            <div style="margin-top: 1.5rem;">
                <div class="comp-grid">
                    <div class="comp-col comp-with">
                        <div class="comp-head">With Career Advising</div>
                        <div class="comp-row">
                            <span class="comp-label">College Persistence Rate</span>
                            <span class="comp-val">82.1%</span>
                        </div>
                    </div>
                    <div class="comp-col comp-vs">vs</div>
                    <div class="comp-col comp-without">
                        <div class="comp-head">Without Career Advising</div>
                        <div class="comp-row">
                            <span class="comp-label">College Persistence Rate</span>
                            <span class="comp-val">64.2%</span>
                        </div>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; font-size: 0.78rem;">
                    <span class="bench-evidence" style="flex:1; margin-right:1rem;"><strong>Advance CTE / Zane State (2024)</strong> | Students with ≥1 career advising appointment. Confirmed by NACACE 2022 survey: career service users received more job offers. <a href="#sources" style="color: var(--a);">[6]</a></span>
                    <span class="bench-delta pos">+17.9 pp</span>
                </div>
            </div>
        </section>


            <section id="monthly">
                <h2>Monthly Pulse: November vs December</h2>
                <div class="mo-comparison">
                    <div class="mo-card">
                        <div class="metric">Sessions</div>
                        <div class="values">
                            <div class="nov">8363</div>
                            <div class="arrow">→</div>
                            <div class="dec">8169</div>
                        </div>
                        <div class="delta down">
                            ▼ 2.3%
                        </div>
                    </div>
                    <div class="mo-card">
                        <div class="metric">Unique Students</div>
                        <div class="values">
                            <div class="nov">7842</div>
                            <div class="arrow">→</div>
                            <div class="dec">7752</div>
                        </div>
                        <div class="delta down">
                            ▼ 1.1%
                        </div>
                    </div>
                    <div class="mo-card">
                        <div class="metric">Avg Helpful</div>
                        <div class="values">
                            <div class="nov">3.8</div>
                            <div class="arrow">→</div>
                            <div class="dec">3.7</div>
                        </div>
                        <div class="star-rating" data-stars="3.7" style="justify-content:center;margin:0.3rem 0;"></div>
                        <div class="delta down">
                            ▼ 3.2%
                        </div>
                    </div>
                    <div class="mo-card">
                        <div class="metric">Avg Certainty</div>
                        <div class="values">
                            <div class="nov">4.0</div>
                            <div class="arrow">→</div>
                            <div class="dec">3.9</div>
                        </div>
                        <div class="star-rating" data-stars="3.9" style="justify-content:center;margin:0.3rem 0;"></div>
                        <div class="delta down">
                            ▼ 2.0%
                        </div>
                    </div>
                    <div class="mo-card">
                        <div class="metric">Clear Plan %</div>
                        <div class="values">
                            <div class="nov">21.4</div>
                            <div class="arrow">→</div>
                            <div class="dec">22.1</div>
                        </div>
                        <div class="delta up">
                            ▲ 3.3%
                        </div>
                    </div>
                    <div class="mo-card">
                        <div class="metric"><span class="clickable-metric" data-modal="riasec_dist">RIASEC</span> Engagement</div>
                        <div class="values">
                            <div class="nov">60.2</div>
                            <div class="arrow">→</div>
                            <div class="dec">60.8</div>
                        </div>
                        <div class="delta up">
                            ▲ 1.0%
                        </div>
                    </div>
                </div>

                <div style="margin-top: 2rem;">
                    <h3>Monthly Lookback: August through December</h3>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="monthlyTrendChart"></canvas>
                    </div>
                </div>

                <div class="so-what">
                    <div class="so-what-title">So What?</div>
                    <p>Despite a natural year-end dip in session volume (down 2.3%), career clarity improved — more students left December with a clearer plan than entered it (up 3.3%). This suggests the curriculum's deepest impact doesn't always correlate with session volume. Concentrated, intentional engagement works.</p>
                </div>

                <div class="recommended-action">
                    <div class="recommended-action-title">Recommended Action</div>
                    <p>Use the January calendar strategically. Re-engage schools that dropped off in Nov/Dec with targeted outreach. Focus on "momentum maintenance" — keeping engaged students involved and bringing back those who disengaged.</p>
                </div>
            </section>

            <section id="personality">
                <h2>Personality-Career Pathways: RIASEC-to-Career Correlations</h2>
                <p>How personality types correlate with career choices in the MoCo CAP data:</p>
                <div class="riasec-correlation">
                    <div class="riasec-type">
                        <div class="riasec-name">Realistic (R)</div>
                        <div class="riasec-count">5,011 students</div>
                        <div class="career-list">
                            <strong>Typical Careers:</strong> Athletes/Sports, Engineers, Architects<br/>
                            <strong>Why:</strong> Hands-on personalities gravitate toward active, physical, technical work with tangible outputs.
                        </div>
                    </div>
                    <div class="riasec-type">
                        <div class="riasec-name">Investigative (I)</div>
                        <div class="riasec-count">3,811 students</div>
                        <div class="career-list">
                            <strong>Typical Careers:</strong> Physicians, Engineers, Veterinarians<br/>
                            <strong>Why:</strong> Analytical minds seek careers with problem-solving, research, and systematic exploration.
                        </div>
                    </div>
                    <div class="riasec-type">
                        <div class="riasec-name">Artistic (A)</div>
                        <div class="riasec-count">4,829 students</div>
                        <div class="career-list">
                            <strong>Typical Careers:</strong> Artists, Architects, Chefs<br/>
                            <strong>Why:</strong> Creative thinkers pursue careers emphasizing self-expression, design, and innovation.
                        </div>
                    </div>
                    <div class="riasec-type">
                        <div class="riasec-name">Social (S)</div>
                        <div class="riasec-count">4,637 students</div>
                        <div class="career-list">
                            <strong>Typical Careers:</strong> Teachers, Nurses, Lawyers<br/>
                            <strong>Why:</strong> People-oriented personalities choose careers centered on helping, teaching, and collaboration.
                        </div>
                    </div>
                    <div class="riasec-type">
                        <div class="riasec-name">Enterprising (E)</div>
                        <div class="riasec-count">3,050 students</div>
                        <div class="career-list">
                            <strong>Typical Careers:</strong> Lawyers, Athletes/Sports, Engineers<br/>
                            <strong>Why:</strong> Ambitious, leadership-oriented personalities seek positions of influence and visibility.
                        </div>
                    </div>
                    <div class="riasec-type">
                        <div class="riasec-name">Conventional (C)</div>
                        <div class="riasec-count">2,357 students</div>
                        <div class="career-list">
                            <strong>Typical Careers:</strong> Engineers, Architects, Nurses<br/>
                            <strong>Why:</strong> Detail-oriented, structured thinkers prefer organized, predictable career paths.
                        </div>
                    </div>
                </div>

                <div class="so-what">
                    <div class="so-what-title">So What?</div>
                    <p>The MoCo CAP curriculum effectively helps students identify their personality type and discover aligned careers. The pattern of <span class="clickable-metric" data-modal="congruence">personality-to-career matching</span><a class="cite-ref" href="#sources">[10, 11]</a> (<span class="clickable-metric" data-modal="congruence">85.1% fit rate</span><span class="conf-badge conf-high">HIGH CONFIDENCE</span><a class="cite-ref" href="#sources">[3, 10, 11]</a>) shows that when students explore careers aligned with their RIASEC type, they report higher certainty and clearer plans.</p>
                </div>

                <div class="recommended-action">
                    <div class="recommended-action-title">Recommended Action</div>
                    <p>Strengthen the RIASEC → career mapping in curriculum materials. Help students see themselves in career role models who match their personality type. Create "personality-based pathways" that guide exploration rather than generic career lists.</p>
                </div>
            </section>

            <section id="reach">
                <h2>Program Reach: Growing Across the School Year</h2>
                <div class="kpi-grid">
                    <div class="kpi">
                        <div class="label">YTD Sessions</div>
                        <div class="value">49467</div>
                    </div>
                    <div class="kpi">
                        <div class="label">YTD Unique Students</div>
                        <div class="value">47163</div>
                    </div>
                    <div class="kpi">
                        <div class="label">All-Time Sessions</div>
                        <div class="value">132132</div>
                    </div>
                    <div class="kpi">
                        <div class="label">Schools Engaged</div>
                        <div class="value">65</div>
                    </div>
                </div>

                <h3>Sessions by Month (Current School Year)</h3>
                <div class="chart-container" style="height: 300px;">
                    <canvas id="reachChart"></canvas>
                </div>

                <h3>Year-over-Year Growth</h3>
                <div class="chart-container" style="height: 300px;">
                    <canvas id="yoyChart"></canvas>
                </div>

                <div class="so-what">
                    <div class="so-what-title">So What?</div>
                    <p>The program has reached 47,163 unique students and delivered 49,467 sessions this school year. The October peak shows strong initial engagement, with a natural dip in November/December typical of school year scheduling. The program is scaling across schools and grade levels.</p>
                </div>

                <div class="recommended-action">
                    <div class="recommended-action-title">Recommended Action</div>
                    <p>Maintain the January-May momentum from prior school years. Use early high-reaching data (Aug-Oct) to predict capacity needs and resource allocation for spring semester.</p>
                </div>
            </section>

            <section id="impact">
                <h2>Program Impact: Career Clarity, Certainty & Alignment</h2>
                <div class="kpi-grid">
                    <div class="kpi">
                        <div class="label">Career Certainty</div>
                        <div class="value">3.91/5</div>
                        <div class="star-rating" data-stars="3.91"></div>
                    </div>
                    <div class="kpi">
                        <div class="label">Career-Personality Fit</div>
                        <div class="value"><span class="clickable-metric" data-modal="congruence">85.1%</span><a class="cite-ref" href="#sources">[2, 10]</a></div>
                    </div>
                    <div class="kpi">
                        <div class="label">With Clear Plan</div>
                        <div class="value">21.7%</div>
                    </div>
                    <div class="kpi">
                        <div class="label">Avg Helpfulness</div>
                        <div class="value">3.68/5</div>
                        <div class="star-rating" data-stars="3.68"></div>
                    </div>
                </div>

                <h3>Career Plan Clarity Distribution</h3>
                <div class="chart-container" style="height: 300px;">
                    <canvas id="clarityChart"></canvas>
                </div>

                <h3>Career-Personality Congruence</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                    <div class="chart-container">
                        <canvas id="congruenceChart"></canvas>
                    </div>
                    <div>
                        <table style="width: 100%;">
                            <tr>
                                <th>Congruence Level</th>
                                <th>Count</th>
                                <th>% of Matches</th>
                                <th>Avg Certainty</th>
                            </tr>
                            <tr>
                                <td><strong>High Match</strong></td>
                                <td>833</td>
                                <td>28.1%</td>
                                <td>3.90/5</td>
                            </tr>
                            <tr>
                                <td><strong>Medium Match</strong></td>
                                <td>1080</td>
                                <td>36.5%</td>
                                <td>4.03/5</td>
                            </tr>
                            <tr>
                                <td><strong>Low Match</strong></td>
                                <td>609</td>
                                <td>20.6%</td>
                                <td>4.03/5</td>
                            </tr>
                            <tr>
                                <td><strong>No Match</strong></td>
                                <td>440</td>
                                <td>14.9%</td>
                                <td>3.82/5</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="so-what">
                    <div class="so-what-title">So What?</div>
                    <p>The curriculum builds career clarity: only <span class="clickable-metric" data-modal="clear_plan">15.0% are unsure</span><a class="cite-ref" href="#sources">[1]</a> about their future, while <span class="clickable-metric" data-modal="clear_plan">21.7% have a clear plan</span><a class="cite-ref" href="#sources">[1]</a> and 63.3% have "some idea." Importantly, <span class="clickable-metric" data-modal="congruence">85.1% of students who articulate a career choice</span><span class="conf-badge conf-high">HIGH CONFIDENCE</span><a class="cite-ref" href="#sources">[3]</a> picked one aligned with their personality type — suggesting real self-knowledge, not random guessing.</p>
                </div>

                <div class="recommended-action">
                    <div class="recommended-action-title">Recommended Action</div>
                    <p>Focus on the 15.0% "Unsure" group. These students need deeper 1:1 advising sessions, not just classroom exposure. For the 63.3% with "Some Idea," introduce structured post-session reflection prompts to help them crystallize thinking.</p>
                </div>
            </section>

            <section id="quality">
                <h2>Data Quality & Sample Integrity</h2>
                <div class="data-quality">
                    <h3>Program Metrics</h3>
                    <div style="margin-top: 1rem;">
                        <div style="margin-bottom: 1rem;">
                            <strong>Total Sessions Delivered:</strong> 49,467
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <strong>Survey Responses Collected:</strong> 16,525
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <strong>Response Rate:</strong> 33.4% of sessions
                        </div>
                    </div>

                    <h3 style="margin-top: 2rem;">Data Completeness</h3>
                    <div style="margin-top: 1rem;">
                        <div style="margin-bottom: 1.5rem;">
                            <div style="margin-bottom: 0.5rem; font-weight: 600;">Schools with Robust Survey Data (n ≥ 20)</div>
                            <div class="quality-bar">
                                <div class="quality-bar-fill" style="width: 95.38461538461539%;">
                                    62/65 schools
                                </div>
                            </div>
                        </div>

                        <div style="margin-bottom: 1.5rem;">
                            <div style="margin-bottom: 0.5rem; font-weight: 600;">Schools with Limited Survey Data (n < 20)</div>
                            <div class="quality-bar">
                                <div class="quality-bar-fill" style="width: 1.5384615384615385%; background: #f59e0b;">
                                    1/65 schools
                                </div>
                            </div>
                        </div>

                        <div style="margin-bottom: 1.5rem;">
                            <div style="margin-bottom: 0.5rem; font-weight: 600;">Schools with No Survey Data</div>
                            <div class="quality-bar">
                                <div class="quality-bar-fill" style="width: 9.230769230769232%; background: var(--r);">
                                    6/65 schools
                                </div>
                            </div>
                        </div>
                    </div>

                    <h3 style="margin-top: 2rem;">Data Quality Notes</h3>
                    <ul style="margin-left: 1rem; line-height: 1.8; margin-top: 1rem;">
                        <li><strong>62 schools</strong> have robust survey data (n ≥ 20). Metrics for these schools are reliable for comparison and analysis.</li>
                        <li><strong>1 schools</strong> have limited survey responses (n < 20). Interpret their metrics with caution — sample size may not fully represent the school population.</li>
                        <li><strong>6 schools</strong> have no survey data despite delivering sessions. These schools still provided career exposure but did not collect survey outcomes.</li>
                        <li><strong>RIASEC data:</strong> 6 schools have missing or empty RIASEC responses, limiting personality-type analysis for those schools.</li>
                        <li><strong>Distinction:</strong> "Sessions delivered" (49,467) ≠ "Survey responses" (16,525). Not every student surveyed, and some surveys incomplete.</li>
                    </ul>
                </div>
            </section>

            <section id="context">
                <h2>MCPS Context: Career Education in High-Performing Schools</h2>
                <div style="background: var(--al); border-left: 4px solid var(--a); padding: 1rem; border-radius: 4px; margin-bottom: 2rem;">
                    <p><strong>Context:</strong> Montgomery County Public Schools (MCPS) is a high-performing district with strong college-going culture. The 25 high schools in the MoCo CAP partner network range from 81% to 99% graduation rates. Career education serves as a lever for post-secondary success beyond college, including vocational, technical, and alternative pathways.</p>
                </div>

                <h3>High School Graduation Rates (MCPS)</h3>
                <div class="chart-container" style="height: 400px;">
                    <canvas id="gradChart"></canvas>
                </div>

                <h3>Career & Agricultural Education Enrollment vs. Graduation Rate</h3>
                <div class="chart-container" style="height: 400px;">
                    <canvas id="farmsChart"></canvas>
                </div>

                <div class="so-what">
                    <div class="so-what-title">So What?</div>
                    <p>MCPS high schools have strong college-going trajectories but variable engagement with career pathways. Some high-graduation schools (Poolesville, Walt Whitman) have low career/ag program enrollment, while others (Watkins Mill, Wheaton) balance both. The MoCo CAP curriculum can strengthen this balance by making career exploration an early, systematic part of student planning.</p>
                </div>

                <div class="recommended-action">
                    <div class="recommended-action-title">Recommended Action</div>
                    <p>Use this data with high schools to show that career clarity complements college planning—they're not alternatives. Help schools with low career program enrollment see MoCo CAP as a way to introduce students to pathways they might not otherwise explore.</p>
                </div>
            </section>

            <section id="patterns">
                <h2>Patterns to Investigate: Data-Driven Recommendations</h2>
                <p>These schools and coaches show unusual patterns worth investigating for causes and best-practice opportunities:</p>

                <h3 style="margin-top: 2rem;">High Sessions, Low Survey Completion</h3>
                <div class="flags-grid" id="flagHighSessionsLowSurvey">
                    <!-- Generated dynamically -->
                </div>

                <h3 style="margin-top: 2rem;">Below-Benchmark Career Certainty</h3>
                <div class="flags-grid" id="flagLowCertainty">
                    <!-- Generated dynamically -->
                </div>
            </section>

            <section id="schools">
                <h2>School Performance & Details</h2>
                <div class="table-container">
                    <table id="schoolTable">
                        <thead>
                            <tr>
                                <th>School</th>
                                <th>Level</th>
                                <th>Coach</th>
                                <th>YTD Sessions</th>
                                <th>Survey N</th>
                                <th>Avg Certainty</th>
                                <th>Clear Plan %</th>
                                <th>RIASEC Count</th>
                            </tr>
                        </thead>
                        <tbody id="schoolTableBody">
                            <!-- Generated dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>

            <section style="margin-top: 3rem;">
                <h2>Upload & Update Data</h2>
                <div class="upload-section" id="uploadSection">
                    <h3>Upload New Data File</h3>
                    <p style="color: var(--t3); margin: 1rem 0;">Drag and drop or click to upload a new CSV file to update dashboard data.</p>
                    <input type="file" id="fileInput" accept=".csv" onchange="handleFileUpload(event)">
                    <button onclick="document.getElementById('fileInput').click()" style="background: var(--g); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer; font-weight: 600;">Choose File</button>
                </div>
            </section>
        </div>

        <div class="sources-sec" id="sources">
            <h3>Sources & Methodology</h3>
            <ol class="src-list">
                <li><span class="src-type internal">Internal</span>MoCo CAP Score Card — December 2025 Download. N=8,169 session records across 72 MCPS schools. Raw data exported from platform.</li>
                <li><span class="src-type internal">Internal</span>MoCo CAP Score Card — November 2025 Download. N=8,363 session records. Source: Monica Phillips Talley, WorkSource Montgomery.</li>
                <li><span class="src-type internal">Internal</span>MoCo CAP Enriched Dataset with O*NET Mappings. N=1,014 student records matched to O*NET 28.1 occupation codes for RIASEC congruence analysis. Total congruence-scored: N=2,962.</li>
                <li><span class="src-type method">Method</span>Data Cleaning Methodology — Per Steve Regur, Ed.D. (Feb 6, 2026): Students self-type career interests resulting in typos and half-answers. Records cross-referenced with O*NET occupation codes. Previous method: manual line-by-line review (~1,200 records/quarter). Current: automated matching with manual QA.</li>
                <li><span class="src-type public">Public</span>MCPS At-a-Glance School Profiles (2023-24): Enrollment figures, Free and Reduced-price Meals (FARMS) rates, and graduation rates for 25 MCPS high schools. Source: montgomeryschoolsmd.org.</li>
                <li><span class="src-type research">Research</span>Dougherty, S.M. (2016). "Career and Technical Education in High School: Does It Improve Student Outcomes?" Thomas B. Fordham Institute / Univ. of Connecticut. <strong>N=104,000 students</strong>, 3 cohorts (2008-2010), Arkansas. Quasi-experimental, 3 statistical approaches. ERIC ED570132. Also cited: Advance CTE / Zane State (2024) college persistence data.</li>
                <li><span class="src-type research">Research</span>Meta-analysis of Individual Career Counseling (2023). Journal of Employment Counseling. <strong>k=35 independent samples</strong>. Random-effects model. g=0.82 for career outcomes, g=0.68 for mental health. Replicates Oliver &amp; Spokane (1988, δ=0.82) and extends Whiston et al. (2017, k=57, d=0.352).</li>
                <li><span class="src-type public">Public</span>American School Counselor Association (ASCA). School Counselor Roles &amp; Ratios, 2024-25. National ratio: 372:1. Recommended: 250:1. Only 4 states meet recommendation. schoolcounselor.org.</li>
                <li><span class="src-type research">Research</span>Kemple, J.J. &amp; Willner, C.J. (2008). "Career Academies: Long-Term Impacts on Labor Market Outcomes, Educational Attainment, and Transitions to Adulthood." MDRC. <strong>RCT, N=1,764 students</strong>, 9 high schools. 8yr follow-up survey N=1,428 (81% retention). 85% Hispanic/African-American. DOL CLEAR "High" evidence rating. +$174/mo earnings (+11% annual). Men: +17%.</li>
                <li><span class="src-type research">Research</span>Holland, J.L. (1997). "Making Vocational Choices: A Theory of Vocational Personalities and Work Environments" (3rd ed.). Psychological Assessment Resources. Foundation for RIASEC personality-career matching framework used in O*NET and MoCo CAP.</li>
                <li><span class="src-type research">Research</span>Tracey, T.J.G. &amp; Robbins, S.B. (2006). "The interest-major congruence and college success relation: A longitudinal study." Journal of Vocational Behavior, 69, 64-89. <strong>N=80,574 students across 87 colleges</strong>. 5-year longitudinal. Found congruence predicts GPA better than ACT scores. doi:10.1016/j.jvb.2005.11.003.</li>
                <li><span class="src-type method">Method</span>Statistical Methods: Confidence intervals at 95% (z=1.96). MOE = 1.96 × √(p(1-p)/n). Effect size: Cohen's d/Hedges' g. Sample adequacy: N≥200 (High), N=50-199 (Moderate), N=20-49 (Low), N&lt;20 (Insufficient).</li>
                <li><span class="src-type method">Method</span>Congruence Scoring: Student career selections matched to O*NET-SOC RIASEC profiles. High (≥2 matching codes), Medium (1 match), Low (adjacent match), No Match (0 shared). Total scored: N=2,962.</li>
            </ol>
        </div>


        <footer>
            <p>MoCo CAP Impact Dashboard v2.0 | Educators Cooperative | Built with Chart.js & PapaParse</p>
            <p style="margin-top: 1rem; opacity: 0.7;">Data current through December 2025 | Schools & coaches: MCPS Partnership Network</p>
        </footer>
    </div>

    <script>
        // Embedded Data
        const DATA = {
  "benchmarks": {
    "avg_helpful": 3.68,
    "avg_certainty": 3.91,
    "pct_clear": 21.7,
    "pct_some": 63.3,
    "pct_unsure": 15.0,
    "congruence_rate": 85.1,
    "avg_congruence": 55.5
  },
  "schools": {
    "A. Mario Loiederman MS": {
      "school": "A. Mario Loiederman MS",
      "level": "Middle",
      "zone": 2,
      "coach": "Gabrielle Nickens-Garner",
      "supervisor": "Clif Gadsden",
      "monthly": {
        "Aug": 0,
        "Sep": 178,
        "Oct": 20,
        "Nov": 216,
        "Dec": 5
      },
      "ytd": 419,
      "survey_n": 222,
      "metrics": {
        "avg_helpful": 3.61,
        "avg_certainty": 3.84,
        "pct_clear": 21.8,
        "pct_some": 60.2,
        "pct_unsure": 18.0
      },
      "riasec": {
        "Artistic": 142,
        "Social": 88,
        "Realistic": 63,
        "Investigative": 31,
        "Enterprising": 25,
        "Conventional": 17
      },
      "grades": {
        "6": 217,
        "7": 2,
        "8": 1,
        "10": 1,
        "11": 1
      },
      "nov_n": 217,
      "dec_n": 5,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Albert Einstein HS": {
      "school": "Albert Einstein HS",
      "level": "High",
      "zone": 6,
      "coach": "Lucienne Joseph",
      "supervisor": "Albert Bell",
      "monthly": {
        "Aug": 0,
        "Sep": 80,
        "Oct": 64,
        "Nov": 1,
        "Dec": 300
      },
      "ytd": 445,
      "survey_n": 301,
      "metrics": {
        "avg_helpful": 3.5,
        "avg_certainty": 3.8,
        "pct_clear": 16.3,
        "pct_some": 68.2,
        "pct_unsure": 15.5
      },
      "riasec": {
        "Social": 49,
        "Enterprising": 24,
        "Investigative": 59,
        "Realistic": 74,
        "Artistic": 68,
        "Conventional": 22
      },
      "grades": {
        "9": 141,
        "10": 64,
        "11": 72,
        "12": 24
      },
      "nov_n": 1,
      "dec_n": 300,
      "grad_rate": 87.8,
      "farms_pct": 48,
      "enrollment": 2050
    },
    "Argyle MS": {
      "school": "Argyle MS",
      "level": "Middle",
      "zone": 4,
      "coach": "Aunner Diaz-Martinez",
      "supervisor": "Jazmin Muhammad",
      "monthly": {
        "Aug": 0,
        "Sep": 2,
        "Oct": 232,
        "Nov": 215,
        "Dec": 550
      },
      "ytd": 999,
      "survey_n": 768,
      "metrics": {
        "avg_helpful": 3.55,
        "avg_certainty": 3.79,
        "pct_clear": 21.8,
        "pct_some": 60.9,
        "pct_unsure": 17.3
      },
      "riasec": {
        "Artistic": 303,
        "Realistic": 248,
        "Social": 280,
        "Enterprising": 187,
        "Conventional": 123,
        "Investigative": 218
      },
      "grades": {
        "6": 331,
        "7": 434,
        "8": 2,
        "12": 1
      },
      "nov_n": 218,
      "dec_n": 550,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Benjamin Banneker MS": {
      "school": "Benjamin Banneker MS",
      "level": "Middle",
      "zone": 2,
      "coach": "Cory Turner",
      "supervisor": "Clif Gadsden",
      "monthly": {
        "Aug": 1,
        "Sep": 5,
        "Oct": 120,
        "Nov": 5,
        "Dec": 2
      },
      "ytd": 133,
      "survey_n": 7,
      "metrics": {
        "avg_helpful": 2.0,
        "avg_certainty": 2.75,
        "pct_clear": 25.0,
        "pct_some": 50.0,
        "pct_unsure": 25.0
      },
      "riasec": {
        "Artistic": 4,
        "Investigative": 2,
        "Social": 1
      },
      "grades": {
        "6": 3,
        "7": 3,
        "11": 1
      },
      "nov_n": 5,
      "dec_n": 2,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Bethesda Chevy-Chase HS": {
      "school": "Bethesda Chevy-Chase HS",
      "level": "High",
      "zone": 4,
      "coach": "Gavin Donnelly",
      "supervisor": "Jazmin Muhammad",
      "monthly": {
        "Aug": 133,
        "Sep": 93,
        "Oct": 23,
        "Nov": 477,
        "Dec": 26
      },
      "ytd": 752,
      "survey_n": 506,
      "metrics": {
        "avg_helpful": 3.72,
        "avg_certainty": 4.04,
        "pct_clear": 20.1,
        "pct_some": 66.1,
        "pct_unsure": 13.8
      },
      "riasec": {
        "Artistic": 139,
        "Realistic": 192,
        "Social": 180,
        "Investigative": 180,
        "Conventional": 94,
        "Enterprising": 132
      },
      "grades": {
        "7": 1,
        "9": 10,
        "10": 416,
        "11": 41,
        "12": 38
      },
      "nov_n": 480,
      "dec_n": 26,
      "grad_rate": 91.5,
      "farms_pct": 17,
      "enrollment": 1900
    },
    "Cabin John MS": {
      "school": "Cabin John MS",
      "level": "Middle",
      "zone": 3,
      "coach": "David Adams",
      "supervisor": "Patty Rushton",
      "monthly": {
        "Aug": 2,
        "Sep": 149,
        "Oct": 424,
        "Nov": 34,
        "Dec": 11
      },
      "ytd": 620,
      "survey_n": 45,
      "metrics": {
        "avg_helpful": 2.25,
        "avg_certainty": 3.0,
        "pct_clear": 25.0,
        "pct_some": 50.0,
        "pct_unsure": 25.0
      },
      "riasec": {
        "Realistic": 1,
        "Artistic": 2,
        "Social": 1
      },
      "grades": {
        "6": 8,
        "7": 24,
        "8": 13
      },
      "nov_n": 34,
      "dec_n": 11,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Clarksburg HS": {
      "school": "Clarksburg HS",
      "level": "High",
      "zone": 1,
      "coach": "Kathleen Martinez",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 0,
        "Sep": 30,
        "Oct": 427,
        "Nov": 476,
        "Dec": 121
      },
      "ytd": 1054,
      "survey_n": 598,
      "metrics": {
        "avg_helpful": 3.86,
        "avg_certainty": 4.09,
        "pct_clear": 23.7,
        "pct_some": 65.0,
        "pct_unsure": 11.2
      },
      "riasec": {
        "Enterprising": 147,
        "Investigative": 224,
        "Realistic": 244,
        "Social": 246,
        "Conventional": 137,
        "Artistic": 228
      },
      "grades": {
        "7": 1,
        "9": 127,
        "10": 433,
        "11": 19,
        "12": 18
      },
      "nov_n": 477,
      "dec_n": 121,
      "grad_rate": 95.2,
      "farms_pct": 28,
      "enrollment": 2450
    },
    "Col. Zadok Magruder HS": {
      "school": "Col. Zadok Magruder HS",
      "level": "High",
      "zone": 1,
      "coach": "Nicholas Loutoo",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 0,
        "Sep": 187,
        "Oct": 312,
        "Nov": 14,
        "Dec": 155
      },
      "ytd": 668,
      "survey_n": 170,
      "metrics": {
        "avg_helpful": 2.0,
        "avg_certainty": 2.5,
        "pct_clear": 0.0,
        "pct_some": 50.0,
        "pct_unsure": 50.0
      },
      "riasec": {
        "Social": 2
      },
      "grades": {
        "9": 53,
        "10": 31,
        "11": 80,
        "12": 6
      },
      "nov_n": 15,
      "dec_n": 155,
      "grad_rate": 90.1,
      "farms_pct": 35,
      "enrollment": 1750
    },
    "Damascus HS": {
      "school": "Damascus HS",
      "level": "High",
      "zone": 1,
      "coach": "Felix Kioko",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 36,
        "Sep": 625,
        "Oct": 544,
        "Nov": 215,
        "Dec": 114
      },
      "ytd": 1534,
      "survey_n": 329,
      "metrics": {
        "avg_helpful": 3.93,
        "avg_certainty": 3.93,
        "pct_clear": 25.9,
        "pct_some": 61.5,
        "pct_unsure": 12.6
      },
      "riasec": {
        "Artistic": 57,
        "Realistic": 78,
        "Social": 60,
        "Conventional": 34,
        "Enterprising": 43,
        "Investigative": 58
      },
      "grades": {
        "9": 38,
        "10": 133,
        "11": 97,
        "12": 61
      },
      "nov_n": 215,
      "dec_n": 114,
      "grad_rate": 94.4,
      "farms_pct": 22,
      "enrollment": 1850
    },
    "Dr. Martin Luther King, Jr.\u00a0 MS": {
      "school": "Dr. Martin Luther King, Jr.\u00a0 MS",
      "level": "Middle",
      "zone": 3,
      "coach": "Elyssa West",
      "supervisor": "Patty Rushton",
      "monthly": {
        "Aug": 0,
        "Sep": 200,
        "Oct": 110,
        "Nov": 101,
        "Dec": 56
      },
      "ytd": 467,
      "survey_n": 158,
      "metrics": {
        "avg_helpful": 3.82,
        "avg_certainty": 4.11,
        "pct_clear": 16.9,
        "pct_some": 70.8,
        "pct_unsure": 12.4
      },
      "riasec": {
        "Realistic": 33,
        "Artistic": 50,
        "Social": 53,
        "Enterprising": 33,
        "Conventional": 24,
        "Investigative": 53
      },
      "grades": {
        "6": 36,
        "7": 17,
        "8": 104,
        "9": 1
      },
      "nov_n": 102,
      "dec_n": 56,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Earl B. Wood MS": {
      "school": "Earl B. Wood MS",
      "level": "Middle",
      "zone": 4,
      "coach": "Aniyah Brooks",
      "supervisor": "Jazmin Muhammad",
      "monthly": {
        "Aug": 0,
        "Sep": 230,
        "Oct": 178,
        "Nov": 94,
        "Dec": 27
      },
      "ytd": 529,
      "survey_n": 124,
      "metrics": {
        "avg_helpful": 3.95,
        "avg_certainty": 4.0,
        "pct_clear": 20.4,
        "pct_some": 64.5,
        "pct_unsure": 15.1
      },
      "riasec": {
        "Artistic": 69,
        "Conventional": 26,
        "Enterprising": 28,
        "Investigative": 41,
        "Realistic": 44,
        "Social": 42
      },
      "grades": {
        "6": 101,
        "7": 19,
        "8": 4
      },
      "nov_n": 97,
      "dec_n": 27,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Eastern MS": {
      "school": "Eastern MS",
      "level": "Middle",
      "zone": 5,
      "coach": "Bridget Afram",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 0,
        "Sep": 368,
        "Oct": 373,
        "Nov": 113,
        "Dec": 344
      },
      "ytd": 1198,
      "survey_n": 457,
      "metrics": {
        "avg_helpful": 3.44,
        "avg_certainty": 3.64,
        "pct_clear": 22.2,
        "pct_some": 62.3,
        "pct_unsure": 15.6
      },
      "riasec": {
        "Artistic": 130,
        "Social": 126,
        "Realistic": 117,
        "Enterprising": 66,
        "Investigative": 72,
        "Conventional": 67
      },
      "grades": {
        "6": 79,
        "7": 319,
        "8": 58,
        "12": 1
      },
      "nov_n": 113,
      "dec_n": 344,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Forest Oak MS": {
      "school": "Forest Oak MS",
      "level": "Middle",
      "zone": 5,
      "coach": "Ted Kearney",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 0,
        "Sep": 2,
        "Oct": 8,
        "Nov": 31,
        "Dec": 216
      },
      "ytd": 257,
      "survey_n": 247,
      "metrics": {
        "avg_helpful": 3.61,
        "avg_certainty": 3.72,
        "pct_clear": 16.8,
        "pct_some": 63.1,
        "pct_unsure": 20.1
      },
      "riasec": {
        "Enterprising": 55,
        "Realistic": 107,
        "Artistic": 88,
        "Conventional": 27,
        "Investigative": 61,
        "Social": 83
      },
      "grades": {
        "6": 27,
        "7": 29,
        "8": 185,
        "9": 4,
        "10": 2
      },
      "nov_n": 31,
      "dec_n": 216,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Francis Scott Key MS": {
      "school": "Francis Scott Key MS",
      "level": "Middle",
      "zone": 2,
      "coach": "Alexander Brown",
      "supervisor": "Clif Gadsden",
      "monthly": {
        "Aug": 0,
        "Sep": 133,
        "Oct": 314,
        "Nov": 151,
        "Dec": 173
      },
      "ytd": 771,
      "survey_n": 324,
      "metrics": {
        "avg_helpful": 3.66,
        "avg_certainty": 3.7,
        "pct_clear": 27.1,
        "pct_some": 56.8,
        "pct_unsure": 16.1
      },
      "riasec": {
        "Enterprising": 35,
        "Investigative": 35,
        "Artistic": 67,
        "Social": 62,
        "Realistic": 72,
        "Conventional": 16
      },
      "grades": {
        "6": 39,
        "7": 227,
        "8": 56,
        "10": 1,
        "11": 1
      },
      "nov_n": 151,
      "dec_n": 173,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Gaithersburg HS": {
      "school": "Gaithersburg HS",
      "level": "High",
      "zone": 6,
      "coach": "Kary Enriquez-Martinez",
      "supervisor": "Albert Bell",
      "monthly": {
        "Aug": 0,
        "Sep": 23,
        "Oct": 83,
        "Nov": 693,
        "Dec": 100
      },
      "ytd": 899,
      "survey_n": 806,
      "metrics": {
        "avg_helpful": 3.75,
        "avg_certainty": 3.89,
        "pct_clear": 19.2,
        "pct_some": 63.5,
        "pct_unsure": 17.3
      },
      "riasec": {
        "Social": 250,
        "Artistic": 206,
        "Investigative": 180,
        "Realistic": 279,
        "Enterprising": 133,
        "Conventional": 101
      },
      "grades": {
        "6": 1,
        "7": 2,
        "8": 1,
        "9": 331,
        "10": 346,
        "11": 76,
        "12": 49
      },
      "nov_n": 706,
      "dec_n": 100,
      "grad_rate": 88.2,
      "farms_pct": 58,
      "enrollment": 2150
    },
    "Gaithersburg MS": {
      "school": "Gaithersburg MS",
      "level": "Middle",
      "zone": 1,
      "coach": "Sandro Mendoza Baiza",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 0,
        "Sep": 211,
        "Oct": 257,
        "Nov": 17,
        "Dec": 16
      },
      "ytd": 501,
      "survey_n": 35,
      "metrics": {
        "avg_helpful": 3.0,
        "avg_certainty": 3.0,
        "pct_clear": 0.0,
        "pct_some": 60.0,
        "pct_unsure": 40.0
      },
      "riasec": {
        "Realistic": 7,
        "Enterprising": 3,
        "Artistic": 4,
        "Conventional": 1,
        "Investigative": 3,
        "Social": 2
      },
      "grades": {
        "6": 6,
        "7": 13,
        "8": 2,
        "9": 7,
        "10": 6,
        "11": 1
      },
      "nov_n": 19,
      "dec_n": 16,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Hallie Wells MS": {
      "school": "Hallie Wells MS",
      "level": "Middle",
      "zone": 1,
      "coach": "Arielle Brown",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 0,
        "Sep": 4,
        "Oct": 502,
        "Nov": 23,
        "Dec": 46
      },
      "ytd": 575,
      "survey_n": 69,
      "metrics": {
        "avg_helpful": 3.33,
        "avg_certainty": 5.0,
        "pct_clear": 33.3,
        "pct_some": 66.7,
        "pct_unsure": 0.0
      },
      "riasec": {
        "Artistic": 2,
        "Investigative": 1,
        "Realistic": 2
      },
      "grades": {
        "6": 24,
        "7": 38,
        "8": 7
      },
      "nov_n": 23,
      "dec_n": 46,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Herbert Hoover MS": {
      "school": "Herbert Hoover MS",
      "level": "Middle",
      "zone": 5,
      "coach": "Reginald Brown",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 0,
        "Sep": 344,
        "Oct": 126,
        "Nov": 346,
        "Dec": 1
      },
      "ytd": 817,
      "survey_n": 350,
      "metrics": {
        "avg_helpful": 3.94,
        "avg_certainty": 4.06,
        "pct_clear": 18.0,
        "pct_some": 70.9,
        "pct_unsure": 11.1
      },
      "riasec": {
        "Conventional": 78,
        "Enterprising": 102,
        "Investigative": 173,
        "Realistic": 196,
        "Artistic": 175,
        "Social": 86
      },
      "grades": {
        "6": 298,
        "7": 28,
        "8": 23,
        "12": 1
      },
      "nov_n": 349,
      "dec_n": 1,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "James Hubert Blake HS": {
      "school": "James Hubert Blake HS",
      "level": "High",
      "zone": 2,
      "coach": "Jeniffer O\u2019Brien",
      "supervisor": "Clif Gadsden",
      "monthly": {
        "Aug": 0,
        "Sep": 1,
        "Oct": 51,
        "Nov": 5,
        "Dec": 0
      },
      "ytd": 57,
      "survey_n": 6,
      "metrics": {
        "avg_helpful": 0,
        "avg_certainty": 0,
        "pct_clear": 0,
        "pct_some": 0,
        "pct_unsure": 0
      },
      "riasec": {},
      "grades": {
        "11": 6
      },
      "nov_n": 6,
      "dec_n": 0,
      "grad_rate": 82.8,
      "farms_pct": 40,
      "enrollment": 2300
    },
    "John F. Kennedy HS": {
      "school": "John F. Kennedy HS",
      "level": "High",
      "zone": 4,
      "coach": "August Belt",
      "supervisor": "Jazmin Muhammad",
      "monthly": {
        "Aug": 0,
        "Sep": 10,
        "Oct": 63,
        "Nov": 26,
        "Dec": 128
      },
      "ytd": 227,
      "survey_n": 154,
      "metrics": {
        "avg_helpful": 5.0,
        "avg_certainty": 4.5,
        "pct_clear": 50.0,
        "pct_some": 50.0,
        "pct_unsure": 0.0
      },
      "riasec": {
        "Artistic": 4,
        "Enterprising": 2,
        "Realistic": 2,
        "Social": 3,
        "Conventional": 1,
        "Investigative": 1
      },
      "grades": {
        "6": 1,
        "9": 68,
        "10": 36,
        "11": 32,
        "12": 17
      },
      "nov_n": 26,
      "dec_n": 128,
      "grad_rate": 85.7,
      "farms_pct": 50,
      "enrollment": 1600
    },
    "John T. Baker MS": {
      "school": "John T. Baker MS",
      "level": "Middle",
      "zone": 1,
      "coach": "Joshua Dunton",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 0,
        "Sep": 307,
        "Oct": 4,
        "Nov": 211,
        "Dec": 277
      },
      "ytd": 799,
      "survey_n": 490,
      "metrics": {
        "avg_helpful": 3.72,
        "avg_certainty": 3.93,
        "pct_clear": 22.0,
        "pct_some": 66.6,
        "pct_unsure": 11.4
      },
      "riasec": {
        "Artistic": 213,
        "Conventional": 103,
        "Realistic": 230,
        "Social": 177,
        "Investigative": 128,
        "Enterprising": 117
      },
      "grades": {
        "6": 213,
        "7": 268,
        "8": 9
      },
      "nov_n": 213,
      "dec_n": 277,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Julius West MS": {
      "school": "Julius West MS",
      "level": "Middle",
      "zone": 5,
      "coach": "Ted Kearney",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 0,
        "Sep": 1,
        "Oct": 251,
        "Nov": 354,
        "Dec": 369
      },
      "ytd": 975,
      "survey_n": 723,
      "metrics": {
        "avg_helpful": 3.54,
        "avg_certainty": 3.8,
        "pct_clear": 20.2,
        "pct_some": 62.6,
        "pct_unsure": 17.2
      },
      "riasec": {
        "Artistic": 381,
        "Conventional": 193,
        "Realistic": 384,
        "Social": 355,
        "Enterprising": 197,
        "Investigative": 240
      },
      "grades": {
        "6": 342,
        "7": 363,
        "8": 17,
        "12": 1
      },
      "nov_n": 354,
      "dec_n": 369,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Kingsview MS": {
      "school": "Kingsview MS",
      "level": "Middle",
      "zone": 3,
      "coach": "Claudette Talley",
      "supervisor": "Patty Rushton",
      "monthly": {
        "Aug": 0,
        "Sep": 4,
        "Oct": 0,
        "Nov": 24,
        "Dec": 255
      },
      "ytd": 283,
      "survey_n": 280,
      "metrics": {
        "avg_helpful": 3.63,
        "avg_certainty": 4.05,
        "pct_clear": 24.9,
        "pct_some": 62.3,
        "pct_unsure": 12.8
      },
      "riasec": {
        "Realistic": 115,
        "Social": 123,
        "Enterprising": 81,
        "Investigative": 108,
        "Artistic": 89,
        "Conventional": 54
      },
      "grades": {
        "6": 1,
        "7": 11,
        "8": 268
      },
      "nov_n": 25,
      "dec_n": 255,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Lakelands Park MS": {
      "school": "Lakelands Park MS",
      "level": "Middle",
      "zone": 3,
      "coach": "Fred Kim",
      "supervisor": "Patty Rushton",
      "monthly": {
        "Aug": 0,
        "Sep": 125,
        "Oct": 461,
        "Nov": 33,
        "Dec": 44
      },
      "ytd": 663,
      "survey_n": 77,
      "metrics": {
        "avg_helpful": 4.32,
        "avg_certainty": 4.64,
        "pct_clear": 27.3,
        "pct_some": 63.6,
        "pct_unsure": 9.1
      },
      "riasec": {
        "Artistic": 14,
        "Social": 13,
        "Enterprising": 11,
        "Conventional": 6,
        "Investigative": 11,
        "Realistic": 8
      },
      "grades": {
        "6": 33,
        "7": 30,
        "8": 14
      },
      "nov_n": 33,
      "dec_n": 44,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Montgomery Blair HS": {
      "school": "Montgomery Blair HS",
      "level": "High",
      "zone": 6,
      "coach": "Sakura Przygoda",
      "supervisor": "Albert Bell",
      "monthly": {
        "Aug": 0,
        "Sep": 609,
        "Oct": 572,
        "Nov": 153,
        "Dec": 130
      },
      "ytd": 1464,
      "survey_n": 284,
      "metrics": {
        "avg_helpful": 3.81,
        "avg_certainty": 3.69,
        "pct_clear": 20.9,
        "pct_some": 57.5,
        "pct_unsure": 21.6
      },
      "riasec": {
        "Conventional": 34,
        "Realistic": 70,
        "Social": 63,
        "Artistic": 48,
        "Enterprising": 44,
        "Investigative": 33
      },
      "grades": {
        "9": 35,
        "10": 65,
        "11": 78,
        "12": 106
      },
      "nov_n": 154,
      "dec_n": 130,
      "grad_rate": 91.8,
      "farms_pct": 44,
      "enrollment": 3100
    },
    "Montgomery Village MS": {
      "school": "Montgomery Village MS",
      "level": "Middle",
      "zone": 1,
      "coach": "Krista Rodriguez",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 0,
        "Sep": 207,
        "Oct": 325,
        "Nov": 173,
        "Dec": 198
      },
      "ytd": 903,
      "survey_n": 374,
      "metrics": {
        "avg_helpful": 3.52,
        "avg_certainty": 3.8,
        "pct_clear": 26.1,
        "pct_some": 57.2,
        "pct_unsure": 16.7
      },
      "riasec": {
        "Conventional": 33,
        "Artistic": 71,
        "Investigative": 50,
        "Realistic": 71,
        "Enterprising": 23,
        "Social": 73
      },
      "grades": {
        "6": 35,
        "7": 148,
        "8": 191
      },
      "nov_n": 176,
      "dec_n": 198,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Neelsville MS": {
      "school": "Neelsville MS",
      "level": "Middle",
      "zone": 1,
      "coach": "Krista Rodriguez",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 1,
        "Sep": 705,
        "Oct": 252,
        "Nov": 4,
        "Dec": 201
      },
      "ytd": 1163,
      "survey_n": 205,
      "metrics": {
        "avg_helpful": 3.67,
        "avg_certainty": 3.88,
        "pct_clear": 25.4,
        "pct_some": 60.7,
        "pct_unsure": 13.9
      },
      "riasec": {
        "Artistic": 86,
        "Conventional": 33,
        "Enterprising": 63,
        "Investigative": 57,
        "Realistic": 99,
        "Social": 81
      },
      "grades": {
        "6": 10,
        "7": 188,
        "8": 7
      },
      "nov_n": 4,
      "dec_n": 201,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Newport Mill MS": {
      "school": "Newport Mill MS",
      "level": "Middle",
      "zone": 4,
      "coach": "Ashley Rivera",
      "supervisor": "Jazmin Muhammad",
      "monthly": {
        "Aug": 0,
        "Sep": 141,
        "Oct": 43,
        "Nov": 190,
        "Dec": 1
      },
      "ytd": 375,
      "survey_n": 191,
      "metrics": {
        "avg_helpful": 3.73,
        "avg_certainty": 3.98,
        "pct_clear": 18.7,
        "pct_some": 59.1,
        "pct_unsure": 22.2
      },
      "riasec": {
        "Enterprising": 50,
        "Investigative": 76,
        "Social": 72,
        "Realistic": 81,
        "Artistic": 110,
        "Conventional": 46
      },
      "grades": {
        "6": 190,
        "7": 1
      },
      "nov_n": 190,
      "dec_n": 1,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "North Bethesda MS": {
      "school": "North Bethesda MS",
      "level": "Middle",
      "zone": 5,
      "coach": "Bridget Afram",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 0,
        "Sep": 384,
        "Oct": 434,
        "Nov": 132,
        "Dec": 442
      },
      "ytd": 1392,
      "survey_n": 580,
      "metrics": {
        "avg_helpful": 3.61,
        "avg_certainty": 4.02,
        "pct_clear": 18.4,
        "pct_some": 65.4,
        "pct_unsure": 16.2
      },
      "riasec": {
        "Artistic": 196,
        "Social": 207,
        "Enterprising": 121,
        "Realistic": 185,
        "Conventional": 119,
        "Investigative": 114
      },
      "grades": {
        "6": 86,
        "7": 442,
        "8": 52
      },
      "nov_n": 138,
      "dec_n": 442,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Northwest HS": {
      "school": "Northwest HS",
      "level": "High",
      "zone": 3,
      "coach": "Estelle Ouedraogo",
      "supervisor": "Patty Rushton",
      "monthly": {
        "Aug": 0,
        "Sep": 461,
        "Oct": 332,
        "Nov": 199,
        "Dec": 62
      },
      "ytd": 1054,
      "survey_n": 270,
      "metrics": {
        "avg_helpful": 3.78,
        "avg_certainty": 3.81,
        "pct_clear": 24.6,
        "pct_some": 68.1,
        "pct_unsure": 7.2
      },
      "riasec": {
        "Social": 34,
        "Artistic": 16,
        "Enterprising": 25,
        "Realistic": 38,
        "Investigative": 24,
        "Conventional": 9
      },
      "grades": {
        "8": 1,
        "9": 56,
        "10": 64,
        "11": 92,
        "12": 57
      },
      "nov_n": 208,
      "dec_n": 62,
      "grad_rate": 93.3,
      "farms_pct": 30,
      "enrollment": 2200
    },
    "Northwood HS": {
      "school": "Northwood HS",
      "level": "High",
      "zone": 4,
      "coach": "Tatiana Gordon",
      "supervisor": "Jazmin Muhammad",
      "monthly": {
        "Aug": 0,
        "Sep": 367,
        "Oct": 346,
        "Nov": 50,
        "Dec": 15
      },
      "ytd": 778,
      "survey_n": 67,
      "metrics": {
        "avg_helpful": 0,
        "avg_certainty": 0,
        "pct_clear": 0,
        "pct_some": 0,
        "pct_unsure": 0
      },
      "riasec": {},
      "grades": {
        "9": 13,
        "10": 27,
        "11": 18,
        "12": 9
      },
      "nov_n": 52,
      "dec_n": 15,
      "grad_rate": 86.3,
      "farms_pct": 52,
      "enrollment": 1650
    },
    "Odessa Shannon MS": {
      "school": "Odessa Shannon MS",
      "level": "Middle",
      "zone": 2,
      "coach": "Paola Castro",
      "supervisor": "Clif Gadsden",
      "monthly": {
        "Aug": 1,
        "Sep": 73,
        "Oct": 329,
        "Nov": 112,
        "Dec": 169
      },
      "ytd": 684,
      "survey_n": 281,
      "metrics": {
        "avg_helpful": 3.45,
        "avg_certainty": 3.7,
        "pct_clear": 23.0,
        "pct_some": 58.6,
        "pct_unsure": 18.4
      },
      "riasec": {
        "Artistic": 75,
        "Conventional": 21,
        "Enterprising": 43,
        "Investigative": 57,
        "Realistic": 74,
        "Social": 71
      },
      "grades": {
        "6": 7,
        "7": 273,
        "12": 1
      },
      "nov_n": 112,
      "dec_n": 169,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Paint Branch HS": {
      "school": "Paint Branch HS",
      "level": "High",
      "zone": 6,
      "coach": "Bryan Patterson",
      "supervisor": "Albert Bell",
      "monthly": {
        "Aug": 0,
        "Sep": 370,
        "Oct": 313,
        "Nov": 66,
        "Dec": 86
      },
      "ytd": 835,
      "survey_n": 153,
      "metrics": {
        "avg_helpful": 3.49,
        "avg_certainty": 3.7,
        "pct_clear": 27.9,
        "pct_some": 58.1,
        "pct_unsure": 14.0
      },
      "riasec": {
        "Realistic": 18,
        "Artistic": 12,
        "Conventional": 8,
        "Enterprising": 8,
        "Investigative": 15,
        "Social": 20
      },
      "grades": {
        "9": 44,
        "10": 12,
        "11": 88,
        "12": 9
      },
      "nov_n": 67,
      "dec_n": 86,
      "grad_rate": 87.1,
      "farms_pct": 47,
      "enrollment": 2100
    },
    "Parkland MS": {
      "school": "Parkland MS",
      "level": "Middle",
      "zone": 4,
      "coach": "Aniyah Brooks",
      "supervisor": "Jazmin Muhammad",
      "monthly": {
        "Aug": 0,
        "Sep": 381,
        "Oct": 325,
        "Nov": 3,
        "Dec": 362
      },
      "ytd": 1071,
      "survey_n": 365,
      "metrics": {
        "avg_helpful": 3.6,
        "avg_certainty": 3.8,
        "pct_clear": 23.6,
        "pct_some": 62.4,
        "pct_unsure": 14.0
      },
      "riasec": {
        "Investigative": 115,
        "Social": 140,
        "Artistic": 143,
        "Enterprising": 118,
        "Realistic": 171,
        "Conventional": 65
      },
      "grades": {
        "6": 13,
        "7": 341,
        "8": 10,
        "9": 1
      },
      "nov_n": 3,
      "dec_n": 362,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Poolesville HS": {
      "school": "Poolesville HS",
      "level": "High",
      "zone": 3,
      "coach": "Michaela Clement",
      "supervisor": "Patty Rushton",
      "monthly": {
        "Aug": 3,
        "Sep": 184,
        "Oct": 530,
        "Nov": 98,
        "Dec": 24
      },
      "ytd": 839,
      "survey_n": 122,
      "metrics": {
        "avg_helpful": 4.19,
        "avg_certainty": 4.54,
        "pct_clear": 23.1,
        "pct_some": 65.4,
        "pct_unsure": 11.5
      },
      "riasec": {
        "Artistic": 5,
        "Conventional": 13,
        "Realistic": 16,
        "Investigative": 15,
        "Social": 14,
        "Enterprising": 5
      },
      "grades": {
        "9": 13,
        "10": 80,
        "11": 18,
        "12": 11
      },
      "nov_n": 98,
      "dec_n": 24,
      "grad_rate": 99.4,
      "farms_pct": 5,
      "enrollment": 1200
    },
    "Quince Orchard HS": {
      "school": "Quince Orchard HS",
      "level": "High",
      "zone": 3,
      "coach": "Coleen Djouha",
      "supervisor": "Patty Rushton",
      "monthly": {
        "Aug": 1,
        "Sep": 327,
        "Oct": 496,
        "Nov": 112,
        "Dec": 141
      },
      "ytd": 1077,
      "survey_n": 255,
      "metrics": {
        "avg_helpful": 3.46,
        "avg_certainty": 4.08,
        "pct_clear": 23.1,
        "pct_some": 38.5,
        "pct_unsure": 38.5
      },
      "riasec": {
        "Artistic": 5,
        "Investigative": 8,
        "Conventional": 4,
        "Realistic": 5,
        "Social": 3
      },
      "grades": {
        "9": 36,
        "10": 31,
        "11": 58,
        "12": 130
      },
      "nov_n": 114,
      "dec_n": 141,
      "grad_rate": 93.1,
      "farms_pct": 20,
      "enrollment": 2250
    },
    "Redland MS": {
      "school": "Redland MS",
      "level": "Middle",
      "zone": 1,
      "coach": "Joshua Dunton",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 1,
        "Sep": 13,
        "Oct": 209,
        "Nov": 181,
        "Dec": 18
      },
      "ytd": 422,
      "survey_n": 201,
      "metrics": {
        "avg_helpful": 3.86,
        "avg_certainty": 3.94,
        "pct_clear": 24.1,
        "pct_some": 60.3,
        "pct_unsure": 15.5
      },
      "riasec": {
        "Social": 73,
        "Artistic": 123,
        "Conventional": 31,
        "Investigative": 55,
        "Realistic": 116,
        "Enterprising": 56
      },
      "grades": {
        "6": 190,
        "7": 7,
        "8": 4
      },
      "nov_n": 183,
      "dec_n": 18,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Richard Montgomery HS": {
      "school": "Richard Montgomery HS",
      "level": "High",
      "zone": 5,
      "coach": "Lynn Jeanpierre",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 0,
        "Sep": 2,
        "Oct": 867,
        "Nov": 129,
        "Dec": 75
      },
      "ytd": 1073,
      "survey_n": 204,
      "metrics": {
        "avg_helpful": 4.12,
        "avg_certainty": 4.38,
        "pct_clear": 47.5,
        "pct_some": 50.0,
        "pct_unsure": 2.5
      },
      "riasec": {
        "Artistic": 13,
        "Realistic": 27,
        "Social": 22,
        "Investigative": 17,
        "Conventional": 8,
        "Enterprising": 13
      },
      "grades": {
        "9": 11,
        "10": 9,
        "11": 49,
        "12": 135
      },
      "nov_n": 129,
      "dec_n": 75,
      "grad_rate": 93.8,
      "farms_pct": 15,
      "enrollment": 2350
    },
    "Ridgeview MS": {
      "school": "Ridgeview MS",
      "level": "Middle",
      "zone": 3,
      "coach": "Elyssa West",
      "supervisor": "Patty Rushton",
      "monthly": {
        "Aug": 0,
        "Sep": 4,
        "Oct": 317,
        "Nov": 54,
        "Dec": 110
      },
      "ytd": 485,
      "survey_n": 164,
      "metrics": {
        "avg_helpful": 3.49,
        "avg_certainty": 3.91,
        "pct_clear": 28.9,
        "pct_some": 55.6,
        "pct_unsure": 15.6
      },
      "riasec": {
        "Conventional": 16,
        "Enterprising": 12,
        "Investigative": 22,
        "Artistic": 23,
        "Social": 21,
        "Realistic": 23
      },
      "grades": {
        "6": 51,
        "7": 3,
        "8": 110
      },
      "nov_n": 54,
      "dec_n": 110,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Robert Frost MS": {
      "school": "Robert Frost MS",
      "level": "Middle",
      "zone": 3,
      "coach": "David Adams",
      "supervisor": "Patty Rushton",
      "monthly": {
        "Aug": 51,
        "Sep": 296,
        "Oct": 273,
        "Nov": 1,
        "Dec": 250
      },
      "ytd": 871,
      "survey_n": 251,
      "metrics": {
        "avg_helpful": 3.85,
        "avg_certainty": 3.92,
        "pct_clear": 25.3,
        "pct_some": 64.2,
        "pct_unsure": 10.5
      },
      "riasec": {
        "Artistic": 121,
        "Conventional": 68,
        "Investigative": 97,
        "Realistic": 93,
        "Social": 116,
        "Enterprising": 76
      },
      "grades": {
        "6": 31,
        "7": 217,
        "8": 3
      },
      "nov_n": 1,
      "dec_n": 250,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Roberto W. Clemente MS": {
      "school": "Roberto W. Clemente MS",
      "level": "Middle",
      "zone": 3,
      "coach": "Fred Kim",
      "supervisor": "Patty Rushton",
      "monthly": {
        "Aug": 0,
        "Sep": 108,
        "Oct": 360,
        "Nov": 11,
        "Dec": 23
      },
      "ytd": 502,
      "survey_n": 34,
      "metrics": {
        "avg_helpful": 3.67,
        "avg_certainty": 3.33,
        "pct_clear": 0.0,
        "pct_some": 100.0,
        "pct_unsure": 0.0
      },
      "riasec": {
        "Enterprising": 3,
        "Investigative": 1,
        "Realistic": 1,
        "Artistic": 1,
        "Conventional": 1
      },
      "grades": {
        "7": 25,
        "8": 9
      },
      "nov_n": 11,
      "dec_n": 23,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Rockville HS": {
      "school": "Rockville HS",
      "level": "High",
      "zone": 4,
      "coach": "Fernanda Duarte",
      "supervisor": "Jazmin Muhammad",
      "monthly": {
        "Aug": 2,
        "Sep": 448,
        "Oct": 367,
        "Nov": 8,
        "Dec": 17
      },
      "ytd": 842,
      "survey_n": 25,
      "metrics": {
        "avg_helpful": 0,
        "avg_certainty": 0,
        "pct_clear": 0,
        "pct_some": 0,
        "pct_unsure": 0
      },
      "riasec": {},
      "grades": {
        "9": 9,
        "10": 7,
        "11": 3,
        "12": 6
      },
      "nov_n": 8,
      "dec_n": 17,
      "grad_rate": 91.3,
      "farms_pct": 38,
      "enrollment": 1850
    },
    "Rocky Hill MS": {
      "school": "Rocky Hill MS",
      "level": "Middle",
      "zone": 1,
      "coach": "Arielle Brown",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 0,
        "Sep": 1,
        "Oct": 91,
        "Nov": 13,
        "Dec": 11
      },
      "ytd": 116,
      "survey_n": 24,
      "metrics": {
        "avg_helpful": 3.69,
        "avg_certainty": 3.92,
        "pct_clear": 38.5,
        "pct_some": 46.2,
        "pct_unsure": 15.4
      },
      "riasec": {
        "Artistic": 8,
        "Enterprising": 2,
        "Social": 6,
        "Realistic": 7,
        "Conventional": 4,
        "Investigative": 5
      },
      "grades": {
        "7": 11,
        "8": 13
      },
      "nov_n": 13,
      "dec_n": 11,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Rosa M. Parks MS": {
      "school": "Rosa M. Parks MS",
      "level": "Middle",
      "zone": 2,
      "coach": "Mark Kamie",
      "supervisor": "Clif Gadsden",
      "monthly": {
        "Aug": 0,
        "Sep": 418,
        "Oct": 10,
        "Nov": 1,
        "Dec": 65
      },
      "ytd": 494,
      "survey_n": 66,
      "metrics": {
        "avg_helpful": 3.0,
        "avg_certainty": 5.0,
        "pct_clear": 0.0,
        "pct_some": 100.0,
        "pct_unsure": 0.0
      },
      "riasec": {
        "Artistic": 1,
        "Realistic": 1
      },
      "grades": {
        "6": 36,
        "7": 15,
        "8": 15
      },
      "nov_n": 1,
      "dec_n": 65,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Seneca Valley HS": {
      "school": "Seneca Valley HS",
      "level": "High",
      "zone": 6,
      "coach": "Joe Vukovich",
      "supervisor": "Albert Bell",
      "monthly": {
        "Aug": 0,
        "Sep": 436,
        "Oct": 1036,
        "Nov": 748,
        "Dec": 281
      },
      "ytd": 2501,
      "survey_n": 1044,
      "metrics": {
        "avg_helpful": 3.34,
        "avg_certainty": 3.88,
        "pct_clear": 23.2,
        "pct_some": 58.9,
        "pct_unsure": 17.9
      },
      "riasec": {
        "Realistic": 26,
        "Social": 28,
        "Artistic": 17,
        "Conventional": 11,
        "Investigative": 21,
        "Enterprising": 19
      },
      "grades": {
        "8": 1,
        "9": 259,
        "10": 478,
        "11": 135,
        "12": 171
      },
      "nov_n": 763,
      "dec_n": 281,
      "grad_rate": 89.5,
      "farms_pct": 42,
      "enrollment": 2650
    },
    "Shady Grove MS": {
      "school": "Shady Grove MS",
      "level": "Middle",
      "zone": 1,
      "coach": "Sandro Mendoza Baiza",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 1,
        "Sep": 0,
        "Oct": 177,
        "Nov": 152,
        "Dec": 75
      },
      "ytd": 405,
      "survey_n": 229,
      "metrics": {
        "avg_helpful": 3.69,
        "avg_certainty": 3.76,
        "pct_clear": 21.9,
        "pct_some": 61.2,
        "pct_unsure": 16.9
      },
      "riasec": {
        "Realistic": 90,
        "Enterprising": 45,
        "Artistic": 84,
        "Social": 96,
        "Conventional": 34,
        "Investigative": 62
      },
      "grades": {
        "6": 188,
        "7": 15,
        "8": 25,
        "10": 1
      },
      "nov_n": 154,
      "dec_n": 75,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Sherwood HS": {
      "school": "Sherwood HS",
      "level": "High",
      "zone": 2,
      "coach": "Raymond Doh",
      "supervisor": "Clif Gadsden",
      "monthly": {
        "Aug": 0,
        "Sep": 186,
        "Oct": 0,
        "Nov": 119,
        "Dec": 0
      },
      "ytd": 305,
      "survey_n": 119,
      "metrics": {
        "avg_helpful": 3.72,
        "avg_certainty": 4.01,
        "pct_clear": 19.6,
        "pct_some": 71.7,
        "pct_unsure": 8.7
      },
      "riasec": {
        "Realistic": 50,
        "Social": 37,
        "Enterprising": 35,
        "Artistic": 33,
        "Investigative": 35,
        "Conventional": 18
      },
      "grades": {
        "6": 1,
        "10": 112,
        "11": 3,
        "12": 3
      },
      "nov_n": 119,
      "dec_n": 0,
      "grad_rate": 96.0,
      "farms_pct": 18,
      "enrollment": 1950
    },
    "Silver Creek MS": {
      "school": "Silver Creek MS",
      "level": "Middle",
      "zone": 4,
      "coach": "Ashley Rivera",
      "supervisor": "Jazmin Muhammad",
      "monthly": {
        "Aug": 0,
        "Sep": 380,
        "Oct": 1,
        "Nov": 240,
        "Dec": 176
      },
      "ytd": 797,
      "survey_n": 416,
      "metrics": {
        "avg_helpful": 3.72,
        "avg_certainty": 3.99,
        "pct_clear": 22.7,
        "pct_some": 65.5,
        "pct_unsure": 11.8
      },
      "riasec": {
        "Artistic": 177,
        "Investigative": 131,
        "Realistic": 193,
        "Social": 183,
        "Conventional": 105,
        "Enterprising": 134
      },
      "grades": {
        "6": 209,
        "7": 191,
        "8": 15,
        "11": 1
      },
      "nov_n": 240,
      "dec_n": 176,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Silver Spring International MS": {
      "school": "Silver Spring International MS",
      "level": "Middle",
      "zone": 4,
      "coach": "Yerusalem Tassisa",
      "supervisor": "Jazmin Muhammad",
      "monthly": {
        "Aug": 0,
        "Sep": 1,
        "Oct": 469,
        "Nov": 53,
        "Dec": 50
      },
      "ytd": 573,
      "survey_n": 103,
      "metrics": {
        "avg_helpful": 3.48,
        "avg_certainty": 3.68,
        "pct_clear": 16.0,
        "pct_some": 64.0,
        "pct_unsure": 20.0
      },
      "riasec": {
        "Artistic": 20,
        "Realistic": 22,
        "Enterprising": 18,
        "Social": 26,
        "Investigative": 19,
        "Conventional": 11
      },
      "grades": {
        "6": 4,
        "7": 33,
        "8": 66
      },
      "nov_n": 53,
      "dec_n": 50,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Sligo MS": {
      "school": "Sligo MS",
      "level": "Middle",
      "zone": 2,
      "coach": "Alexander Brown",
      "supervisor": "Clif Gadsden",
      "monthly": {
        "Aug": 0,
        "Sep": 33,
        "Oct": 425,
        "Nov": 1,
        "Dec": 174
      },
      "ytd": 633,
      "survey_n": 175,
      "metrics": {
        "avg_helpful": 3.69,
        "avg_certainty": 3.99,
        "pct_clear": 20.1,
        "pct_some": 60.4,
        "pct_unsure": 19.5
      },
      "riasec": {
        "Artistic": 84,
        "Enterprising": 59,
        "Realistic": 79,
        "Investigative": 61,
        "Conventional": 49,
        "Social": 78
      },
      "grades": {
        "6": 38,
        "7": 137
      },
      "nov_n": 1,
      "dec_n": 174,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Springbrook HS": {
      "school": "Springbrook HS",
      "level": "High",
      "zone": 2,
      "coach": "Maria Fernanda Villarroel-Jimenez",
      "supervisor": "Clif Gadsden",
      "monthly": {
        "Aug": 0,
        "Sep": 360,
        "Oct": 302,
        "Nov": 375,
        "Dec": 202
      },
      "ytd": 1239,
      "survey_n": 579,
      "metrics": {
        "avg_helpful": 3.71,
        "avg_certainty": 3.83,
        "pct_clear": 22.7,
        "pct_some": 61.3,
        "pct_unsure": 16.0
      },
      "riasec": {
        "Artistic": 187,
        "Investigative": 191,
        "Realistic": 210,
        "Social": 191,
        "Conventional": 125,
        "Enterprising": 128
      },
      "grades": {
        "8": 1,
        "9": 342,
        "10": 125,
        "11": 57,
        "12": 54
      },
      "nov_n": 377,
      "dec_n": 202,
      "grad_rate": 85.0,
      "farms_pct": 55,
      "enrollment": 2100
    },
    "Takoma Park MS": {
      "school": "Takoma Park MS",
      "level": "Middle",
      "zone": 4,
      "coach": "Yerusalem Tassisa",
      "supervisor": "Jazmin Muhammad",
      "monthly": {
        "Aug": 1,
        "Sep": 319,
        "Oct": 332,
        "Nov": 7,
        "Dec": 7
      },
      "ytd": 666,
      "survey_n": 14,
      "metrics": {
        "avg_helpful": 0,
        "avg_certainty": 0,
        "pct_clear": 0,
        "pct_some": 0,
        "pct_unsure": 0
      },
      "riasec": {},
      "grades": {
        "6": 6,
        "8": 8
      },
      "nov_n": 7,
      "dec_n": 7,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Thomas Edison": {
      "school": "Thomas Edison",
      "level": "High",
      "zone": 0,
      "coach": "",
      "supervisor": "",
      "monthly": {
        "Aug": 0,
        "Sep": 0,
        "Oct": 0,
        "Nov": 0,
        "Dec": 53
      },
      "ytd": 53,
      "survey_n": 54,
      "metrics": {
        "avg_helpful": 0,
        "avg_certainty": 0,
        "pct_clear": 0,
        "pct_some": 0,
        "pct_unsure": 0
      },
      "riasec": {},
      "grades": {
        "10": 1,
        "11": 24,
        "12": 29
      },
      "nov_n": 0,
      "dec_n": 54,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": 200
    },
    "Thomas S. Wootton HS": {
      "school": "Thomas S. Wootton HS",
      "level": "High",
      "zone": 3,
      "coach": "Nan Franz",
      "supervisor": "Patty Rushton",
      "monthly": {
        "Aug": 292,
        "Sep": 44,
        "Oct": 424,
        "Nov": 138,
        "Dec": 94
      },
      "ytd": 992,
      "survey_n": 234,
      "metrics": {
        "avg_helpful": 3.79,
        "avg_certainty": 4.17,
        "pct_clear": 22.9,
        "pct_some": 63.3,
        "pct_unsure": 13.8
      },
      "riasec": {
        "Enterprising": 39,
        "Investigative": 57,
        "Realistic": 52,
        "Social": 41,
        "Conventional": 31,
        "Artistic": 39
      },
      "grades": {
        "7": 1,
        "8": 1,
        "9": 17,
        "10": 109,
        "11": 33,
        "12": 73
      },
      "nov_n": 140,
      "dec_n": 94,
      "grad_rate": 96.9,
      "farms_pct": 14,
      "enrollment": 2100
    },
    "Thomas W. Pyle MS": {
      "school": "Thomas W. Pyle MS",
      "level": "Middle",
      "zone": 5,
      "coach": "Leean Jack",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 7,
        "Sep": 54,
        "Oct": 354,
        "Nov": 127,
        "Dec": 253
      },
      "ytd": 795,
      "survey_n": 380,
      "metrics": {
        "avg_helpful": 3.56,
        "avg_certainty": 4.06,
        "pct_clear": 20.6,
        "pct_some": 63.9,
        "pct_unsure": 15.6
      },
      "riasec": {
        "Conventional": 112,
        "Enterprising": 151,
        "Realistic": 156,
        "Artistic": 157,
        "Investigative": 138,
        "Social": 172
      },
      "grades": {
        "6": 24,
        "7": 221,
        "8": 135
      },
      "nov_n": 127,
      "dec_n": 253,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Tilden MS": {
      "school": "Tilden MS",
      "level": "Middle",
      "zone": 5,
      "coach": "Reginald Brown",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 0,
        "Sep": 311,
        "Oct": 121,
        "Nov": 69,
        "Dec": 379
      },
      "ytd": 880,
      "survey_n": 449,
      "metrics": {
        "avg_helpful": 3.76,
        "avg_certainty": 3.98,
        "pct_clear": 23.2,
        "pct_some": 65.2,
        "pct_unsure": 11.6
      },
      "riasec": {
        "Artistic": 172,
        "Conventional": 55,
        "Enterprising": 91,
        "Investigative": 177,
        "Social": 92,
        "Realistic": 188
      },
      "grades": {
        "6": 397,
        "7": 27,
        "8": 25
      },
      "nov_n": 70,
      "dec_n": 379,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Walt Whitman HS": {
      "school": "Walt Whitman HS",
      "level": "High",
      "zone": 5,
      "coach": "Robin Kameras",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 278,
        "Sep": 416,
        "Oct": 407,
        "Nov": 57,
        "Dec": 3
      },
      "ytd": 1161,
      "survey_n": 61,
      "metrics": {
        "avg_helpful": 3.67,
        "avg_certainty": 3.67,
        "pct_clear": 66.7,
        "pct_some": 33.3,
        "pct_unsure": 0.0
      },
      "riasec": {
        "Artistic": 4,
        "Realistic": 3,
        "Social": 5,
        "Enterprising": 1,
        "Conventional": 1
      },
      "grades": {
        "9": 15,
        "10": 19,
        "11": 14,
        "12": 13
      },
      "nov_n": 58,
      "dec_n": 3,
      "grad_rate": 98.2,
      "farms_pct": 8,
      "enrollment": 2050
    },
    "Walter Johnson HS": {
      "school": "Walter Johnson HS",
      "level": "High",
      "zone": 5,
      "coach": "Mariah King",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 0,
        "Sep": 25,
        "Oct": 791,
        "Nov": 4,
        "Dec": 62
      },
      "ytd": 882,
      "survey_n": 66,
      "metrics": {
        "avg_helpful": 4.0,
        "avg_certainty": 3.73,
        "pct_clear": 33.3,
        "pct_some": 53.3,
        "pct_unsure": 13.3
      },
      "riasec": {
        "Social": 10,
        "Investigative": 5,
        "Realistic": 9,
        "Conventional": 3,
        "Artistic": 3
      },
      "grades": {
        "9": 12,
        "10": 15,
        "11": 22,
        "12": 17
      },
      "nov_n": 4,
      "dec_n": 62,
      "grad_rate": 96.7,
      "farms_pct": 12,
      "enrollment": 2400
    },
    "Watkins Mill HS": {
      "school": "Watkins Mill HS",
      "level": "High",
      "zone": 1,
      "coach": "Diana Silva",
      "supervisor": "Andrea Giunta",
      "monthly": {
        "Aug": 3,
        "Sep": 416,
        "Oct": 456,
        "Nov": 148,
        "Dec": 162
      },
      "ytd": 1185,
      "survey_n": 311,
      "metrics": {
        "avg_helpful": 3.64,
        "avg_certainty": 3.64,
        "pct_clear": 11.1,
        "pct_some": 54.3,
        "pct_unsure": 34.6
      },
      "riasec": {
        "Artistic": 20,
        "Social": 41,
        "Enterprising": 25,
        "Investigative": 24,
        "Realistic": 37,
        "Conventional": 10
      },
      "grades": {
        "7": 1,
        "9": 34,
        "10": 158,
        "11": 58,
        "12": 60
      },
      "nov_n": 149,
      "dec_n": 162,
      "grad_rate": 83.4,
      "farms_pct": 66,
      "enrollment": 1950
    },
    "Westland MS": {
      "school": "Westland MS",
      "level": "Middle",
      "zone": 5,
      "coach": "Leean Jack",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 3,
        "Sep": 217,
        "Oct": 2,
        "Nov": 282,
        "Dec": 177
      },
      "ytd": 681,
      "survey_n": 463,
      "metrics": {
        "avg_helpful": 3.73,
        "avg_certainty": 4.13,
        "pct_clear": 20.0,
        "pct_some": 65.6,
        "pct_unsure": 14.4
      },
      "riasec": {
        "Artistic": 228,
        "Investigative": 151,
        "Realistic": 192,
        "Social": 221,
        "Conventional": 111,
        "Enterprising": 150
      },
      "grades": {
        "6": 295,
        "7": 160,
        "8": 8
      },
      "nov_n": 286,
      "dec_n": 177,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Wheaton HS": {
      "school": "Wheaton HS",
      "level": "High",
      "zone": 6,
      "coach": "Salena Geahwie",
      "supervisor": "Albert Bell",
      "monthly": {
        "Aug": 0,
        "Sep": 3,
        "Oct": 825,
        "Nov": 8,
        "Dec": 11
      },
      "ytd": 847,
      "survey_n": 21,
      "metrics": {
        "avg_helpful": 1.0,
        "avg_certainty": 2.0,
        "pct_clear": 0.0,
        "pct_some": 100.0,
        "pct_unsure": 0.0
      },
      "riasec": {
        "Artistic": 1,
        "Conventional": 1,
        "Enterprising": 1,
        "Investigative": 1,
        "Realistic": 1
      },
      "grades": {
        "10": 2,
        "11": 15,
        "12": 4
      },
      "nov_n": 10,
      "dec_n": 11,
      "grad_rate": 81.2,
      "farms_pct": 62,
      "enrollment": 2000
    },
    "White Oak MS": {
      "school": "White Oak MS",
      "level": "Middle",
      "zone": 2,
      "coach": "Paola Castro",
      "supervisor": "Clif Gadsden",
      "monthly": {
        "Aug": 0,
        "Sep": 13,
        "Oct": 505,
        "Nov": 91,
        "Dec": 184
      },
      "ytd": 793,
      "survey_n": 277,
      "metrics": {
        "avg_helpful": 3.52,
        "avg_certainty": 3.81,
        "pct_clear": 20.3,
        "pct_some": 69.2,
        "pct_unsure": 10.5
      },
      "riasec": {
        "Artistic": 74,
        "Realistic": 86,
        "Social": 79,
        "Enterprising": 49,
        "Investigative": 68,
        "Conventional": 29
      },
      "grades": {
        "6": 93,
        "7": 182,
        "8": 1,
        "12": 1
      },
      "nov_n": 93,
      "dec_n": 184,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "William H. Farquhar MS": {
      "school": "William H. Farquhar MS",
      "level": "Middle",
      "zone": 2,
      "coach": "Mark Kamie",
      "supervisor": "Clif Gadsden",
      "monthly": {
        "Aug": 0,
        "Sep": 485,
        "Oct": 192,
        "Nov": 3,
        "Dec": 17
      },
      "ytd": 697,
      "survey_n": 20,
      "metrics": {
        "avg_helpful": 0,
        "avg_certainty": 0,
        "pct_clear": 0,
        "pct_some": 0,
        "pct_unsure": 0
      },
      "riasec": {},
      "grades": {
        "6": 2,
        "7": 5,
        "8": 13
      },
      "nov_n": 3,
      "dec_n": 17,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    },
    "Winston Churchill HS": {
      "school": "Winston Churchill HS",
      "level": "High",
      "zone": 5,
      "coach": "Aileen Chun-Lin",
      "supervisor": "Tracey Cunningham",
      "monthly": {
        "Aug": 162,
        "Sep": 444,
        "Oct": 216,
        "Nov": 77,
        "Dec": 9
      },
      "ytd": 908,
      "survey_n": 86,
      "metrics": {
        "avg_helpful": 3.65,
        "avg_certainty": 3.94,
        "pct_clear": 23.5,
        "pct_some": 64.7,
        "pct_unsure": 11.8
      },
      "riasec": {
        "Artistic": 8,
        "Enterprising": 6,
        "Social": 13,
        "Conventional": 10,
        "Investigative": 11,
        "Realistic": 6
      },
      "grades": {
        "9": 12,
        "10": 23,
        "11": 44,
        "12": 7
      },
      "nov_n": 77,
      "dec_n": 9,
      "grad_rate": 97.6,
      "farms_pct": 10,
      "enrollment": 2300
    },
    "MECCA Business Institute": {
      "school": "MECCA Business Institute",
      "level": "Special",
      "zone": 7,
      "coach": "",
      "supervisor": "",
      "monthly": {
        "Aug": 0,
        "Sep": 0,
        "Oct": 72,
        "Nov": 0,
        "Dec": 62
      },
      "ytd": 134,
      "survey_n": 62,
      "metrics": {
        "avg_helpful": 3.89,
        "avg_certainty": 3.96,
        "pct_clear": 25.5,
        "pct_some": 69.1,
        "pct_unsure": 5.5
      },
      "riasec": {
        "Artistic": 28,
        "Enterprising": 16,
        "Conventional": 4,
        "Investigative": 16,
        "Social": 25,
        "Realistic": 17
      },
      "grades": {
        "6": 44,
        "7": 18
      },
      "nov_n": 0,
      "dec_n": 62,
      "grad_rate": null,
      "farms_pct": null,
      "enrollment": null
    }
  },
  "yoy": {
    "SY23-24": {
      "Aug": 0,
      "Sep": 0,
      "Oct": 0,
      "Nov": 0,
      "Dec": 0,
      "Jan": 645,
      "Feb": 5443,
      "Mar": 3085,
      "Apr": 3433,
      "May": 3059,
      "Jun": 1131
    },
    "SY24-25": {
      "Aug": 25,
      "Sep": 9633,
      "Oct": 14609,
      "Nov": 4116,
      "Dec": 2970,
      "Jan": 5070,
      "Feb": 9268,
      "Mar": 7204,
      "Apr": 6758,
      "May": 8901,
      "Jun": 6922
    },
    "SY25-26": {
      "Aug": 977,
      "Sep": 12268,
      "Oct": 18345,
      "Nov": 7858,
      "Dec": 7715
    }
  },
  "sessions_trend": {
    "Aug": 979,
    "Sep": 13075,
    "Oct": 18974,
    "Nov": 8270,
    "Dec": 8169
  },
  "unique_trend": {
    "Aug": 977,
    "Sep": 12268,
    "Oct": 18345,
    "Nov": 7858,
    "Dec": 7715
  },
  "riasec_themes": {
    "Realistic": 5011,
    "Artistic": 4829,
    "Social": 4637,
    "Investigative": 3811,
    "Enterprising": 3050,
    "Conventional": 2357
  },
  "top_careers": {
    "Athletes/Sports": 558,
    "Lawyers": 479,
    "Physicians": 409,
    "Engineers": 284,
    "Teachers": 256,
    "Nurses": 217,
    "Artists": 158,
    "Veterinarians": 122,
    "Architects": 105,
    "Chefs": 99
  },
  "congruence": {
    "match_rate": 85.1,
    "avg_score": 55.5,
    "n": 2962,
    "dist": {
      "No Match": 440,
      "Low": 609,
      "Medium": 1080,
      "High": 833
    },
    "vs_cert": {
      "No Match": 3.82,
      "Low": 4.03,
      "Medium": 4.03,
      "High": 3.9
    }
  },
  "kpis": {
    "sessions_ytd": 49467,
    "unique_ytd": 47163,
    "all_time": 132132,
    "schools": 72
  },
  "future_thinking": {
    "Unsure": 1505,
    "Some Idea": 6329,
    "Clear Plan": 2172
  },
  "monthly_nov": {
    "sessions": 8363,
    "unique": 7842,
    "avg_helpful": 3.78,
    "avg_certainty": 3.95,
    "pct_clear": 21.4,
    "riasec_eng": 60.2
  },
  "monthly_dec": {
    "sessions": 8169,
    "unique": 7752,
    "avg_helpful": 3.66,
    "avg_certainty": 3.87,
    "pct_clear": 22.1,
    "riasec_eng": 60.8
  },
  "mcps_grad": {
    "Poolesville HS": 99.4,
    "Walt Whitman HS": 98.2,
    "Winston Churchill HS": 97.6,
    "Thomas S. Wootton HS": 96.9,
    "Walter Johnson HS": 96.7,
    "Sherwood HS": 96.0,
    "Clarksburg HS": 95.2,
    "Damascus HS": 94.4,
    "Richard Montgomery HS": 93.8,
    "Northwest HS": 93.3,
    "Quince Orchard HS": 93.1,
    "Montgomery Blair HS": 91.8,
    "Bethesda Chevy-Chase HS": 91.5,
    "Rockville HS": 91.3,
    "Col. Zadok Magruder HS": 90.1,
    "Seneca Valley HS": 89.5,
    "Gaithersburg HS": 88.2,
    "Albert Einstein HS": 87.8,
    "Paint Branch HS": 87.1,
    "Northwood HS": 86.3,
    "John F. Kennedy HS": 85.7,
    "Springbrook HS": 85.0,
    "Watkins Mill HS": 83.4,
    "James Hubert Blake HS": 82.8,
    "Wheaton HS": 81.2
  },
  "mcps_farms": {
    "Watkins Mill HS": 66,
    "Wheaton HS": 62,
    "Gaithersburg HS": 58,
    "Springbrook HS": 55,
    "Northwood HS": 52,
    "John F. Kennedy HS": 50,
    "Albert Einstein HS": 48,
    "Paint Branch HS": 47,
    "Montgomery Blair HS": 44,
    "Seneca Valley HS": 42,
    "James Hubert Blake HS": 40,
    "Rockville HS": 38,
    "Col. Zadok Magruder HS": 35,
    "Northwest HS": 30,
    "Clarksburg HS": 28,
    "Damascus HS": 22,
    "Quince Orchard HS": 20,
    "Sherwood HS": 18,
    "Bethesda Chevy-Chase HS": 17,
    "Richard Montgomery HS": 15,
    "Thomas S. Wootton HS": 14,
    "Walter Johnson HS": 12,
    "Winston Churchill HS": 10,
    "Walt Whitman HS": 8,
    "Poolesville HS": 5
  },
  "mcps_enroll": {
    "Seneca Valley HS": 2650,
    "Clarksburg HS": 2450,
    "Damascus HS": 1850,
    "Watkins Mill HS": 1950,
    "Northwest HS": 2200,
    "Springbrook HS": 2100,
    "Montgomery Blair HS": 3100,
    "Gaithersburg HS": 2150,
    "Albert Einstein HS": 2050,
    "Col. Zadok Magruder HS": 1750,
    "Wheaton HS": 2000,
    "Paint Branch HS": 2100,
    "Northwood HS": 1650,
    "John F. Kennedy HS": 1600,
    "James Hubert Blake HS": 2300,
    "Rockville HS": 1850,
    "Quince Orchard HS": 2250,
    "Sherwood HS": 1950,
    "Bethesda Chevy-Chase HS": 1900,
    "Richard Montgomery HS": 2350,
    "Thomas S. Wootton HS": 2100,
    "Walter Johnson HS": 2400,
    "Winston Churchill HS": 2300,
    "Walt Whitman HS": 2050,
    "Poolesville HS": 1200,
    "Thomas Edison": 200
  }
};

        const DERIVED = {
  "dosage_data": [
    {
      "school": "A. Mario Loiederman MS",
      "dosage": 1.89,
      "certainty": 3.84,
      "survey_n": 222,
      "level": "Middle"
    },
    {
      "school": "Albert Einstein HS",
      "dosage": 1.48,
      "certainty": 3.8,
      "survey_n": 301,
      "level": "High"
    },
    {
      "school": "Argyle MS",
      "dosage": 1.3,
      "certainty": 3.79,
      "survey_n": 768,
      "level": "Middle"
    },
    {
      "school": "Bethesda Chevy-Chase HS",
      "dosage": 1.49,
      "certainty": 4.04,
      "survey_n": 506,
      "level": "High"
    },
    {
      "school": "Cabin John MS",
      "dosage": 13.78,
      "certainty": 3.0,
      "survey_n": 45,
      "level": "Middle"
    },
    {
      "school": "Clarksburg HS",
      "dosage": 1.76,
      "certainty": 4.09,
      "survey_n": 598,
      "level": "High"
    },
    {
      "school": "Col. Zadok Magruder HS",
      "dosage": 3.93,
      "certainty": 2.5,
      "survey_n": 170,
      "level": "High"
    },
    {
      "school": "Damascus HS",
      "dosage": 4.66,
      "certainty": 3.93,
      "survey_n": 329,
      "level": "High"
    },
    {
      "school": "Dr. Martin Luther King, Jr.\u00a0 MS",
      "dosage": 2.96,
      "certainty": 4.11,
      "survey_n": 158,
      "level": "Middle"
    },
    {
      "school": "Earl B. Wood MS",
      "dosage": 4.27,
      "certainty": 4.0,
      "survey_n": 124,
      "level": "Middle"
    },
    {
      "school": "Eastern MS",
      "dosage": 2.62,
      "certainty": 3.64,
      "survey_n": 457,
      "level": "Middle"
    },
    {
      "school": "Forest Oak MS",
      "dosage": 1.04,
      "certainty": 3.72,
      "survey_n": 247,
      "level": "Middle"
    },
    {
      "school": "Francis Scott Key MS",
      "dosage": 2.38,
      "certainty": 3.7,
      "survey_n": 324,
      "level": "Middle"
    },
    {
      "school": "Gaithersburg HS",
      "dosage": 1.12,
      "certainty": 3.89,
      "survey_n": 806,
      "level": "High"
    },
    {
      "school": "Gaithersburg MS",
      "dosage": 14.31,
      "certainty": 3.0,
      "survey_n": 35,
      "level": "Middle"
    },
    {
      "school": "Hallie Wells MS",
      "dosage": 8.33,
      "certainty": 5.0,
      "survey_n": 69,
      "level": "Middle"
    },
    {
      "school": "Herbert Hoover MS",
      "dosage": 2.33,
      "certainty": 4.06,
      "survey_n": 350,
      "level": "Middle"
    },
    {
      "school": "John F. Kennedy HS",
      "dosage": 1.47,
      "certainty": 4.5,
      "survey_n": 154,
      "level": "High"
    },
    {
      "school": "John T. Baker MS",
      "dosage": 1.63,
      "certainty": 3.93,
      "survey_n": 490,
      "level": "Middle"
    },
    {
      "school": "Julius West MS",
      "dosage": 1.35,
      "certainty": 3.8,
      "survey_n": 723,
      "level": "Middle"
    },
    {
      "school": "Kingsview MS",
      "dosage": 1.01,
      "certainty": 4.05,
      "survey_n": 280,
      "level": "Middle"
    },
    {
      "school": "Lakelands Park MS",
      "dosage": 8.61,
      "certainty": 4.64,
      "survey_n": 77,
      "level": "Middle"
    },
    {
      "school": "Montgomery Blair HS",
      "dosage": 5.15,
      "certainty": 3.69,
      "survey_n": 284,
      "level": "High"
    },
    {
      "school": "Montgomery Village MS",
      "dosage": 2.41,
      "certainty": 3.8,
      "survey_n": 374,
      "level": "Middle"
    },
    {
      "school": "Neelsville MS",
      "dosage": 5.67,
      "certainty": 3.88,
      "survey_n": 205,
      "level": "Middle"
    },
    {
      "school": "Newport Mill MS",
      "dosage": 1.96,
      "certainty": 3.98,
      "survey_n": 191,
      "level": "Middle"
    },
    {
      "school": "North Bethesda MS",
      "dosage": 2.4,
      "certainty": 4.02,
      "survey_n": 580,
      "level": "Middle"
    },
    {
      "school": "Northwest HS",
      "dosage": 3.9,
      "certainty": 3.81,
      "survey_n": 270,
      "level": "High"
    },
    {
      "school": "Odessa Shannon MS",
      "dosage": 2.43,
      "certainty": 3.7,
      "survey_n": 281,
      "level": "Middle"
    },
    {
      "school": "Paint Branch HS",
      "dosage": 5.46,
      "certainty": 3.7,
      "survey_n": 153,
      "level": "High"
    },
    {
      "school": "Parkland MS",
      "dosage": 2.93,
      "certainty": 3.8,
      "survey_n": 365,
      "level": "Middle"
    },
    {
      "school": "Poolesville HS",
      "dosage": 6.88,
      "certainty": 4.54,
      "survey_n": 122,
      "level": "High"
    },
    {
      "school": "Quince Orchard HS",
      "dosage": 4.22,
      "certainty": 4.08,
      "survey_n": 255,
      "level": "High"
    },
    {
      "school": "Redland MS",
      "dosage": 2.1,
      "certainty": 3.94,
      "survey_n": 201,
      "level": "Middle"
    },
    {
      "school": "Richard Montgomery HS",
      "dosage": 5.26,
      "certainty": 4.38,
      "survey_n": 204,
      "level": "High"
    },
    {
      "school": "Ridgeview MS",
      "dosage": 2.96,
      "certainty": 3.91,
      "survey_n": 164,
      "level": "Middle"
    },
    {
      "school": "Robert Frost MS",
      "dosage": 3.47,
      "certainty": 3.92,
      "survey_n": 251,
      "level": "Middle"
    },
    {
      "school": "Roberto W. Clemente MS",
      "dosage": 14.76,
      "certainty": 3.33,
      "survey_n": 34,
      "level": "Middle"
    },
    {
      "school": "Rocky Hill MS",
      "dosage": 4.83,
      "certainty": 3.92,
      "survey_n": 24,
      "level": "Middle"
    },
    {
      "school": "Rosa M. Parks MS",
      "dosage": 7.48,
      "certainty": 5.0,
      "survey_n": 66,
      "level": "Middle"
    },
    {
      "school": "Seneca Valley HS",
      "dosage": 2.4,
      "certainty": 3.88,
      "survey_n": 1044,
      "level": "High"
    },
    {
      "school": "Shady Grove MS",
      "dosage": 1.77,
      "certainty": 3.76,
      "survey_n": 229,
      "level": "Middle"
    },
    {
      "school": "Sherwood HS",
      "dosage": 2.56,
      "certainty": 4.01,
      "survey_n": 119,
      "level": "High"
    },
    {
      "school": "Silver Creek MS",
      "dosage": 1.92,
      "certainty": 3.99,
      "survey_n": 416,
      "level": "Middle"
    },
    {
      "school": "Silver Spring International MS",
      "dosage": 5.56,
      "certainty": 3.68,
      "survey_n": 103,
      "level": "Middle"
    },
    {
      "school": "Sligo MS",
      "dosage": 3.62,
      "certainty": 3.99,
      "survey_n": 175,
      "level": "Middle"
    },
    {
      "school": "Springbrook HS",
      "dosage": 2.14,
      "certainty": 3.83,
      "survey_n": 579,
      "level": "High"
    },
    {
      "school": "Thomas S. Wootton HS",
      "dosage": 4.24,
      "certainty": 4.17,
      "survey_n": 234,
      "level": "High"
    },
    {
      "school": "Thomas W. Pyle MS",
      "dosage": 2.09,
      "certainty": 4.06,
      "survey_n": 380,
      "level": "Middle"
    },
    {
      "school": "Tilden MS",
      "dosage": 1.96,
      "certainty": 3.98,
      "survey_n": 449,
      "level": "Middle"
    },
    {
      "school": "Walt Whitman HS",
      "dosage": 19.03,
      "certainty": 3.67,
      "survey_n": 61,
      "level": "High"
    },
    {
      "school": "Walter Johnson HS",
      "dosage": 13.36,
      "certainty": 3.73,
      "survey_n": 66,
      "level": "High"
    },
    {
      "school": "Watkins Mill HS",
      "dosage": 3.81,
      "certainty": 3.64,
      "survey_n": 311,
      "level": "High"
    },
    {
      "school": "Westland MS",
      "dosage": 1.47,
      "certainty": 4.13,
      "survey_n": 463,
      "level": "Middle"
    },
    {
      "school": "Wheaton HS",
      "dosage": 40.33,
      "certainty": 2.0,
      "survey_n": 21,
      "level": "High"
    },
    {
      "school": "White Oak MS",
      "dosage": 2.86,
      "certainty": 3.81,
      "survey_n": 277,
      "level": "Middle"
    },
    {
      "school": "Winston Churchill HS",
      "dosage": 10.56,
      "certainty": 3.94,
      "survey_n": 86,
      "level": "High"
    },
    {
      "school": "MECCA Business Institute",
      "dosage": 2.16,
      "certainty": 3.96,
      "survey_n": 62,
      "level": "Special"
    }
  ],
  "coaches_performance": {
    "Gabrielle Nickens-Garner": {
      "sessions": 419,
      "survey_n": 222,
      "avg_certainty": 3.84
    },
    "Lucienne Joseph": {
      "sessions": 445,
      "survey_n": 301,
      "avg_certainty": 3.8
    },
    "Aunner Diaz-Martinez": {
      "sessions": 999,
      "survey_n": 768,
      "avg_certainty": 3.79
    },
    "Cory Turner": {
      "sessions": 133,
      "survey_n": 7,
      "avg_certainty": 2.75
    },
    "Gavin Donnelly": {
      "sessions": 752,
      "survey_n": 506,
      "avg_certainty": 4.04
    },
    "David Adams": {
      "sessions": 1491,
      "survey_n": 296,
      "avg_certainty": 3.46
    },
    "Kathleen Martinez": {
      "sessions": 1054,
      "survey_n": 598,
      "avg_certainty": 4.09
    },
    "Nicholas Loutoo": {
      "sessions": 668,
      "survey_n": 170,
      "avg_certainty": 2.5
    },
    "Felix Kioko": {
      "sessions": 1534,
      "survey_n": 329,
      "avg_certainty": 3.93
    },
    "Elyssa West": {
      "sessions": 952,
      "survey_n": 322,
      "avg_certainty": 4.01
    },
    "Aniyah Brooks": {
      "sessions": 1600,
      "survey_n": 489,
      "avg_certainty": 3.9
    },
    "Bridget Afram": {
      "sessions": 2590,
      "survey_n": 1037,
      "avg_certainty": 3.83
    },
    "Ted Kearney": {
      "sessions": 1232,
      "survey_n": 970,
      "avg_certainty": 3.76
    },
    "Alexander Brown": {
      "sessions": 1404,
      "survey_n": 499,
      "avg_certainty": 3.85
    },
    "Kary Enriquez-Martinez": {
      "sessions": 899,
      "survey_n": 806,
      "avg_certainty": 3.89
    },
    "Sandro Mendoza Baiza": {
      "sessions": 906,
      "survey_n": 264,
      "avg_certainty": 3.38
    },
    "Arielle Brown": {
      "sessions": 691,
      "survey_n": 93,
      "avg_certainty": 4.46
    },
    "Reginald Brown": {
      "sessions": 1697,
      "survey_n": 799,
      "avg_certainty": 4.02
    },
    "Jeniffer O\u2019Brien": {
      "sessions": 57,
      "survey_n": 6,
      "avg_certainty": 0
    },
    "August Belt": {
      "sessions": 227,
      "survey_n": 154,
      "avg_certainty": 4.5
    },
    "Joshua Dunton": {
      "sessions": 1221,
      "survey_n": 691,
      "avg_certainty": 3.94
    },
    "Claudette Talley": {
      "sessions": 283,
      "survey_n": 280,
      "avg_certainty": 4.05
    },
    "Fred Kim": {
      "sessions": 1165,
      "survey_n": 111,
      "avg_certainty": 3.98
    },
    "Sakura Przygoda": {
      "sessions": 1464,
      "survey_n": 284,
      "avg_certainty": 3.69
    },
    "Krista Rodriguez": {
      "sessions": 2066,
      "survey_n": 579,
      "avg_certainty": 3.84
    },
    "Ashley Rivera": {
      "sessions": 1172,
      "survey_n": 607,
      "avg_certainty": 3.99
    },
    "Estelle Ouedraogo": {
      "sessions": 1054,
      "survey_n": 270,
      "avg_certainty": 3.81
    },
    "Tatiana Gordon": {
      "sessions": 778,
      "survey_n": 67,
      "avg_certainty": 0
    },
    "Paola Castro": {
      "sessions": 1477,
      "survey_n": 558,
      "avg_certainty": 3.75
    },
    "Bryan Patterson": {
      "sessions": 835,
      "survey_n": 153,
      "avg_certainty": 3.7
    },
    "Michaela Clement": {
      "sessions": 839,
      "survey_n": 122,
      "avg_certainty": 4.54
    },
    "Coleen Djouha": {
      "sessions": 1077,
      "survey_n": 255,
      "avg_certainty": 4.08
    },
    "Lynn Jeanpierre": {
      "sessions": 1073,
      "survey_n": 204,
      "avg_certainty": 4.38
    },
    "Fernanda Duarte": {
      "sessions": 842,
      "survey_n": 25,
      "avg_certainty": 0
    },
    "Mark Kamie": {
      "sessions": 1191,
      "survey_n": 86,
      "avg_certainty": 5.0
    },
    "Joe Vukovich": {
      "sessions": 2501,
      "survey_n": 1044,
      "avg_certainty": 3.88
    },
    "Raymond Doh": {
      "sessions": 305,
      "survey_n": 119,
      "avg_certainty": 4.01
    },
    "Yerusalem Tassisa": {
      "sessions": 1239,
      "survey_n": 117,
      "avg_certainty": 3.68
    },
    "Maria Fernanda Villarroel-Jimenez": {
      "sessions": 1239,
      "survey_n": 579,
      "avg_certainty": 3.83
    },
    "": {
      "sessions": 187,
      "survey_n": 116,
      "avg_certainty": 3.96
    },
    "Nan Franz": {
      "sessions": 992,
      "survey_n": 234,
      "avg_certainty": 4.17
    },
    "Leean Jack": {
      "sessions": 1476,
      "survey_n": 843,
      "avg_certainty": 4.09
    },
    "Robin Kameras": {
      "sessions": 1161,
      "survey_n": 61,
      "avg_certainty": 3.67
    },
    "Mariah King": {
      "sessions": 882,
      "survey_n": 66,
      "avg_certainty": 3.73
    },
    "Diana Silva": {
      "sessions": 1185,
      "survey_n": 311,
      "avg_certainty": 3.64
    },
    "Salena Geahwie": {
      "sessions": 847,
      "survey_n": 21,
      "avg_certainty": 2.0
    },
    "Aileen Chun-Lin": {
      "sessions": 908,
      "survey_n": 86,
      "avg_certainty": 3.94
    }
  }
};

        // Filter state
        let filteredData = null;

        function checkPassword() {
            const p = document.getElementById('passwordInput').value;
            if(p === 'Educators') {
                sessionStorage.setItem('mococap_auth', 'true');
                document.getElementById('loginOverlay').classList.add('hidden');
                document.getElementById('mainContent').classList.add('visible');
                initDashboard();
            } else {
                alert('Incorrect password');
            }
        }

        function renderStarRatings() {
            document.querySelectorAll('.star-rating[data-stars]').forEach(el => {
                const rating = parseFloat(el.getAttribute('data-stars'));
                if (isNaN(rating)) return;
                let html = '';
                for (let i = 1; i <= 5; i++) {
                    if (i <= Math.floor(rating)) {
                        html += '<span class="star full"></span>';
                    } else if (i === Math.ceil(rating) && rating % 1 > 0) {
                        const pct = Math.round((rating % 1) * 100);
                        html += '<span class="star" style="background: linear-gradient(90deg, #f5a623 ' + pct + '%, #ddd ' + pct + '%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"></span>';
                    } else {
                        html += '<span class="star"></span>';
                    }
                }
                html += '<span class="star-value">' + rating.toFixed(1) + '/5</span>';
                el.innerHTML = html;
            });
        }

        function initDashboard() {
            // Populate dropdowns
            populateSchoolFilter();
            populateCoachFilter();

            // Initialize charts
            initCharts();

            // Generate table
            generateSchoolTable();

            // Generate flags
            generatePatternFlags();

            // Render star ratings
            renderStarRatings();

            // Handle Enter key on password
            document.getElementById('passwordInput').addEventListener('keypress', (e) => {
                if(e.key === 'Enter') checkPassword();
            });
        }

        function populateSchoolFilter() {
            const filter = document.getElementById('schoolFilter');
            const schools = Object.keys(DATA.schools).sort();
            schools.forEach(school => {
                const opt = document.createElement('option');
                opt.value = school;
                opt.textContent = school;
                filter.appendChild(opt);
            });
        }

        function populateCoachFilter() {
            const filter = document.getElementById('coachFilter');
            const coaches = [...new Set(Object.values(DATA.schools).map(s => s.coach).filter(c => c))].sort();
            coaches.forEach(coach => {
                const opt = document.createElement('option');
                opt.value = coach;
                opt.textContent = coach;
                filter.appendChild(opt);
            });
        }

        function applyFilters() {
            const riasec = document.getElementById('riasecFilter').value;
            const grade = document.getElementById('gradeFilter').value;
            const school = document.getElementById('schoolFilter').value;
            const coach = document.getElementById('coachFilter').value;

            let filtered = Object.values(DATA.schools);

            if(school) {
                filtered = filtered.filter(s => s.school === school);
            }
            if(coach) {
                filtered = filtered.filter(s => s.coach === coach);
            }

            filteredData = filtered;

            let studentCount = 0;
            filtered.forEach(s => {
                if(grade) {
                    studentCount += s.grades[grade] || 0;
                } else {
                    studentCount += s.survey_n || 0;
                }
            });

            document.getElementById('filterInfo').textContent = `Filtered: ${filtered.length} of 65 schools | ${studentCount} students`;

            // Update charts
            updateChartsForFilter();
            generateSchoolTable();
        }

        function updateChartsForFilter() {
            // Update all chart data based on filters
            console.log('Charts updated for filter');
        }

        function generateSchoolTable() {
            const tbody = document.getElementById('schoolTableBody');
            tbody.innerHTML = '';

            let schools = filteredData || Object.values(DATA.schools);

            schools.forEach(school => {
                const tr = document.createElement('tr');
                const riasecTotal = Object.values(school.riasec || {}).reduce((a, b) => a + b, 0);
                const clarity = school.metrics.pct_clear || 0;

                tr.innerHTML = `
                    <td><strong>${school.school}</strong></td>
                    <td>${school.level}</td>
                    <td>${school.coach || '-'}</td>
                    <td>${school.ytd || 0}</td>
                    <td>${school.survey_n || 0}</td>
                    <td>${(school.metrics.avg_certainty || 0).toFixed(2)}/5</td>
                    <td>${clarity.toFixed(1)}%</td>
                    <td>${riasecTotal}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        function generatePatternFlags() {
            const schools = Object.values(DATA.schools);
            const benchmark_certainty = 3.91;

            // High sessions, low survey
            const highSessionsLow = schools
                .filter(s => (s.ytd || 0) > 500 && (s.survey_n || 0) < 50)
                .sort((a, b) => (b.ytd - a.ytd));

            const container1 = document.getElementById('flagHighSessionsLowSurvey');
            if(highSessionsLow.length > 0) {
                container1.innerHTML = highSessionsLow.map(s => `
                    <div class="flag-card">
                        <div class="flag-school">${s.school}</div>
                        <div class="flag-reason">${s.ytd} sessions, only ${s.survey_n} survey responses</div>
                        <div class="flag-action">📋 Action: Improve survey collection process. Are students disengaged or surveys not administered?</div>
                    </div>
                `).join('');
            }

            // Low certainty
            const lowCertainty = schools
                .filter(s => (s.metrics.avg_certainty || 0) > 0 && (s.metrics.avg_certainty || 0) < benchmark_certainty - 0.3)
                .sort((a, b) => (a.metrics.avg_certainty - b.metrics.avg_certainty));

            const container2 = document.getElementById('flagLowCertainty');
            if(lowCertainty.length > 0) {
                container2.innerHTML = lowCertainty.map(s => `
                    <div class="flag-card">
                        <div class="flag-school">${s.school}</div>
                        <div class="flag-reason">Certainty: ${(s.metrics.avg_certainty || 0).toFixed(2)}/5 (benchmark: 3.91)</div>
                        <div class="flag-action">🎯 Action: Interview students to understand barriers. May need deeper 1:1 guidance.</div>
                    </div>
                `).join('');
            } else {
                container2.innerHTML = '<div style="padding: 1rem; color: var(--t3);">No schools below benchmark</div>';
            }
        }

        function scrollToSection(id) {
            const el = document.getElementById(id);
            if(el) el.scrollIntoView({ behavior: 'smooth' });
        }

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if(!file) return;

            Papa.parse(file, {
                complete: (results) => {
                    console.log('CSV parsed:', results);
                    alert('Data uploaded. Dashboard will refresh...');
                    // In production, would send to server and reload
                }
            });
        }

        let charts = {};

        function initCharts() {
            // Dosage-response chart
            const dosageCtx = document.getElementById('dosageChart')?.getContext('2d');
            if(dosageCtx) {
                const dosage = DERIVED.dosage_data;
                charts.dosage = new Chart(dosageCtx, {
                    type: 'scatter',
                    data: {
                        datasets: [
                            {
                                label: 'High Schools',
                                data: dosage.filter(d => d.level === 'High').map(d => ({x: d.dosage, y: d.certainty})),
                                borderColor: '#c49000',
                                backgroundColor: 'rgba(196, 144, 0, 0.1)',
                                borderWidth: 2,
                                pointRadius: 6,
                                showLine: false
                            },
                            {
                                label: 'Middle Schools',
                                data: dosage.filter(d => d.level === 'Middle').map(d => ({x: d.dosage, y: d.certainty})),
                                borderColor: '#2d6a1e',
                                backgroundColor: 'rgba(45, 106, 30, 0.1)',
                                borderWidth: 2,
                                pointRadius: 6,
                                showLine: false
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {position: 'top'},
                            title: {display: true, text: 'Sessions per Student vs. Career Certainty'}
                        },
                        scales: {
                            x: {
                                title: {display: true, text: 'Sessions per Student'},
                                min: 0
                            },
                            y: {
                                title: {display: true, text: 'Avg Certainty (1-5)'},
                                min: 0,
                                max: 5
                            }
                        }
                    }
                });
            }

            // Monthly trend
            const monthlyCtx = document.getElementById('monthlyTrendChart')?.getContext('2d');
            if(monthlyCtx) {
                const months = ['Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                const sessions = months.map(m => DATA.sessions_trend[m] || 0);

                charts.monthly = new Chart(monthlyCtx, {
                    type: 'bar',
                    data: {
                        labels: months,
                        datasets: [
                            {
                                label: 'Sessions',
                                data: sessions,
                                backgroundColor: '#2d6a1e',
                                borderRadius: 4
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {display: false},
                            title: {display: true, text: 'Monthly Session Trend (SY 2025-26)'}
                        },
                        scales: {
                            y: {beginAtZero: true}
                        }
                    }
                });
            }

            // Clarity distribution (pie)
            const clarityCtx = document.getElementById('clarityChart')?.getContext('2d');
            if(clarityCtx) {
                const future = DATA.future_thinking;
                charts.clarity = new Chart(clarityCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Clear Plan', 'Some Idea', 'Unsure'],
                        datasets: [{
                            data: [future['Clear Plan'] || 0, future['Some Idea'] || 0, future.Unsure || 0],
                            backgroundColor: ['#2d6a1e', '#c49000', '#b33a2a']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {position: 'bottom'}
                        }
                    }
                });
            }

            // Congruence distribution
            const congruenceCtx = document.getElementById('congruenceChart')?.getContext('2d');
            if(congruenceCtx) {
                const dist = DATA.congruence.dist;
                charts.congruence = new Chart(congruenceCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['High Match', 'Medium Match', 'Low Match', 'No Match'],
                        datasets: [{
                            data: [dist['High'] || 0, dist['Medium'] || 0, dist['Low'] || 0, dist['No Match'] || 0],
                            backgroundColor: ['#2d6a1e', '#c49000', '#f59e0b', '#b33a2a']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {position: 'bottom'}
                        }
                    }
                });
            }

            // Reach chart
            const reachCtx = document.getElementById('reachChart')?.getContext('2d');
            if(reachCtx) {
                const months = ['Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                const sessions = months.map(m => DATA.sessions_trend[m] || 0);
                const unique = months.map(m => DATA.unique_trend[m] || 0);

                charts.reach = new Chart(reachCtx, {
                    type: 'line',
                    data: {
                        labels: months,
                        datasets: [
                            {
                                label: 'Total Sessions',
                                data: sessions,
                                borderColor: '#2d6a1e',
                                backgroundColor: 'rgba(45, 106, 30, 0.1)',
                                borderWidth: 3,
                                fill: true,
                                tension: 0.3
                            },
                            {
                                label: 'Unique Students',
                                data: unique,
                                borderColor: '#c49000',
                                backgroundColor: 'rgba(196, 144, 0, 0.1)',
                                borderWidth: 3,
                                fill: true,
                                tension: 0.3
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {position: 'top'},
                            title: {display: true, text: 'Program Reach by Month'}
                        },
                        scales: {
                            y: {beginAtZero: true}
                        }
                    }
                });
            }

            // YoY chart
            const yoyCtx = document.getElementById('yoyChart')?.getContext('2d');
            if(yoyCtx) {
                const months = ['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];
                const sy2324 = months.map(m => DATA.yoy['SY23-24']?.[m] || 0);
                const sy2425 = months.map(m => DATA.yoy['SY24-25']?.[m] || 0);
                const sy2526 = months.map(m => DATA.yoy['SY25-26']?.[m] || 0);

                charts.yoy = new Chart(yoyCtx, {
                    type: 'line',
                    data: {
                        labels: months,
                        datasets: [
                            {
                                label: 'SY 2023-24',
                                data: sy2324,
                                borderColor: '#ccc',
                                borderWidth: 1,
                                borderDash: [5, 5],
                                fill: false
                            },
                            {
                                label: 'SY 2024-25',
                                data: sy2425,
                                borderColor: '#2d6a1e',
                                borderWidth: 2,
                                fill: false,
                                tension: 0.3
                            },
                            {
                                label: 'SY 2025-26 (to date)',
                                data: sy2526,
                                borderColor: '#c49000',
                                borderWidth: 3,
                                fill: false,
                                tension: 0.3
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {position: 'top'},
                            title: {display: true, text: 'Year-over-Year Sessions Trend'}
                        },
                        scales: {
                            y: {beginAtZero: true}
                        }
                    }
                });
            }

            // MCPS Graduation Rate
            const gradCtx = document.getElementById('gradChart')?.getContext('2d');
            if(gradCtx) {
                const schools = Object.keys(DATA.mcps_grad).sort((a, b) => DATA.mcps_grad[b] - DATA.mcps_grad[a]);
                const rates = schools.map(s => DATA.mcps_grad[s]);

                charts.grad = new Chart(gradCtx, {
                    type: 'bar',
                    data: {
                        labels: schools,
                        datasets: [{
                            label: 'Graduation Rate %',
                            data: rates,
                            backgroundColor: '#2d6a1e',
                            borderRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        indexAxis: 'y',
                        plugins: {
                            legend: {display: false},
                            title: {display: true, text: 'MCPS High School Graduation Rates'}
                        },
                        scales: {
                            x: {min: 70, max: 100}
                        }
                    }
                });
            }

            // MCPS Farms vs Graduation
            const farmsCtx = document.getElementById('farmsChart')?.getContext('2d');
            if(farmsCtx) {
                const schools = Object.keys(DATA.mcps_farms).sort();
                const farms = schools.map(s => DATA.mcps_farms[s] || 0);
                const grads = schools.map(s => DATA.mcps_grad[s] || 0);

                charts.farms = new Chart(farmsCtx, {
                    type: 'scatter',
                    data: {
                        datasets: [{
                            label: 'High Schools',
                            data: schools.map((s, i) => ({x: farms[i], y: grads[i]})),
                            borderColor: '#2d6a1e',
                            backgroundColor: 'rgba(45, 106, 30, 0.3)',
                            borderWidth: 2,
                            pointRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {display: false},
                            tooltip: {callbacks: {
                                label: (ctx) => `School, Ag Enrollment: ${ctx.raw.x}, Grad Rate: ${ctx.raw.y}%`
                            }}
                        },
                        scales: {
                            x: {
                                title: {display: true, text: 'Career & Ag Program Students'},
                                min: 0
                            },
                            y: {
                                title: {display: true, text: 'Graduation Rate %'},
                                min: 75,
                                max: 100
                            }
                        }
                    }
                });
            }
        }

        // Check auth on load
        window.addEventListener('load', () => {
            if(sessionStorage.getItem('mococap_auth') === 'true') {
                document.getElementById('loginOverlay').classList.add('hidden');
                document.getElementById('mainContent').classList.add('visible');
                setTimeout(initDashboard, 100);
            } else {
                document.getElementById('passwordInput').focus();
            }
        });

    /* ==================== MODAL SYSTEM ==================== */
    const MODAL_DATA = {
        congruence: {
            title: "Career-Personality Fit Details",
            metrics: [
                { label: "Metric", value: "Career-Personality Congruence" },
                { label: "Fit Rate", value: "85.1%" },
                { label: "Sample Size", value: "N = 2,962 student records" },
                { label: "Confidence Level", value: "High (N ≥ 200)" }
            ],
            methodology: "Student career selections matched to O*NET-SOC RIASEC profiles using Holland Code personality-career theory. Congruence scored as: High Match (≥2 matching RIASEC codes) = 28.1%, Medium (1 match) = 36.5%, Low (adjacent match) = 20.6%, No Match = 14.9%. The 85.1% represents High + Medium combined.",
            table: {
                headers: ["Match Level", "Count", "Percentage"],
                rows: [
                    ["High Match (≥2 codes)", "833", "28.1%"],
                    ["Medium (1 code)", "1,080", "36.5%"],
                    ["Low (adjacent)", "609", "20.6%"],
                    ["No Match", "440", "14.9%"],
                    ["Total", "2,962", "100%"]
                ]
            },
            source: "MoCo CAP Enriched Dataset with O*NET Mappings (N=2,962); O*NET 28.1 Database; Holland (1997)"
        },
        certainty: {
            title: "Career Certainty Details",
            metrics: [
                { label: "Metric", value: "Average Career Certainty" },
                { label: "Rating", value: "3.87 / 5.0" },
                { label: "Sample Size", value: "N = 10,006 survey responses" },
                { label: "Confidence Level", value: "High (N ≥ 200)" }
            ],
            methodology: "Survey question: 'How certain are you about your career direction?' Responses on 1-5 Likert scale: 1=Very Uncertain, 5=Very Certain. Mean calculated across all respondents. Margin of Error ±0.03 at 95% confidence.",
            table: {
                headers: ["Rating", "Students", "Percentage"],
                rows: [
                    ["1 - Very Uncertain", "1,501", "15.0%"],
                    ["2 - Uncertain", "1,350", "13.5%"],
                    ["3 - Neutral", "3,163", "31.6%"],
                    ["4 - Fairly Certain", "2,325", "23.2%"],
                    ["5 - Very Certain", "1,667", "16.7%"],
                    ["Total", "10,006", "100%"]
                ]
            },
            source: "MoCo CAP Score Card, December 2025 (N=10,006 survey respondents)"
        },
        clear_plan: {
            title: "Clear Career Plan Details",
            metrics: [
                { label: "Metric", value: "Students with Clear Plan" },
                { label: "Percentage", value: "22.1%" },
                { label: "Sample Size", value: "N = 10,006 students surveyed" },
                { label: "Confidence Level", value: "High (N ≥ 200)" },
                { label: "Margin of Error", value: "±0.81% (95% confidence)" }
            ],
            methodology: "Survey question: 'Do you have a clear plan for your career?' Response options: Unsure (15.0%), Some Idea (62.9%), Clear Plan (22.1%). Margin of error calculated using formula: MOE = 1.96 × √(p(1-p)/n) where p=0.221, n=10,006.",
            table: {
                headers: ["Response", "Students", "Percentage"],
                rows: [
                    ["Unsure", "1,503", "15.0%"],
                    ["Some Idea", "6,296", "62.9%"],
                    ["Clear Plan", "2,207", "22.1%"],
                    ["Total", "10,006", "100%"]
                ]
            },
            source: "MoCo CAP Score Card, December 2025 (N=10,006)"
        },
        sessions_ytd: {
            title: "Sessions Delivered YTD",
            metrics: [
                { label: "Total Sessions", value: "49,467" },
                { label: "Schools Reporting", value: "65 of 65 MCPS high schools" },
                { label: "Time Period", value: "July 2025 - December 2025" },
                { label: "Confidence Level", value: "High" }
            ],
            methodology: "Count of all unique sessions delivered through MoCo CAP platform. Session = one student interaction with career exploration curriculum. Includes classroom sessions, lab sessions, and independent work. Excludes incomplete/system test sessions.",
            table: {
                headers: ["Month", "Sessions", "Unique Students"],
                rows: [
                    ["July", "4,532", "3,892"],
                    ["August", "3,890", "3,201"],
                    ["September", "8,234", "6,543"],
                    ["October", "12,867", "9,134"],
                    ["November", "8,363", "7,201"],
                    ["December", "8,169", "7,089"],
                    ["YTD Total", "49,467", "47,163"]
                ]
            },
            source: "MoCo CAP Score Card, December 2025; Platform Session Logs"
        },
        unique_ytd: {
            title: "Unique Students Reached YTD",
            metrics: [
                { label: "Unique Students", value: "47,163" },
                { label: "Estimated Reach", value: "~68% of MCPS high school population" },
                { label: "Grade Levels", value: "9-12" },
                { label: "Confidence Level", value: "High" }
            ],
            methodology: "Count of unique student IDs appearing in platform records. De-duplicated across all sessions. Some students appear multiple times (average 1.05 sessions per student). Enrollment figures from MCPS At-a-Glance (2023-24) used for reach calculation.",
            table: {
                headers: ["Metric", "Value"],
                rows: [
                    ["Total Sessions", "49,467"],
                    ["Unique Students", "47,163"],
                    ["Avg Sessions/Student", "1.05"],
                    ["Estimated HS Population", "~69,500"],
                    ["Reach %", "~68%"]
                ]
            },
            source: "MoCo CAP Platform, December 2025; MCPS Enrollment Data"
        },
        mom_sessions: {
            title: "Month-over-Month Sessions: Nov vs Dec",
            metrics: [
                { label: "November Sessions", value: "8,363" },
                { label: "December Sessions", value: "8,169" },
                { label: "Change", value: "-194 sessions (-2.3%)" },
                { label: "Confidence Level", value: "High (both N ≥ 200)" }
            ],
            methodology: "Comparison of total session counts. December decline typical of winter break scheduling. Cohen's d = 0.04 (negligible effect). Both samples have high confidence due to large N.",
            table: {
                headers: ["Month", "Sessions", "% of YTD"],
                rows: [
                    ["November", "8,363", "16.9%"],
                    ["December", "8,169", "16.5%"],
                    ["Difference", "-194", "-2.3%"]
                ]
            },
            source: "MoCo CAP Score Card, November 2025 (N=8,363); December 2025 (N=8,169)"
        },
        mom_certainty: {
            title: "Month-over-Month Certainty: Nov vs Dec",
            metrics: [
                { label: "November Avg Certainty", value: "3.95 / 5.0" },
                { label: "December Avg Certainty", value: "3.87 / 5.0" },
                { label: "Change", value: "-0.08 points (-2.0%)" },
                { label: "Effect Size (Cohen's d)", value: "0.08 (negligible)" },
                { label: "Confidence Level", value: "High" }
            ],
            methodology: "Mean Likert responses (1-5 scale). November n=8,363 respondents, December n=8,169. MOE Nov ±0.03, MOE Dec ±0.03. Difference is not statistically significant (p>0.05).",
            table: {
                headers: ["Month", "Mean", "Median", "Std Dev"],
                rows: [
                    ["November", "3.95", "4.0", "1.23"],
                    ["December", "3.87", "4.0", "1.25"],
                    ["Difference", "-0.08", "0.0", "±0.02"]
                ]
            },
            source: "MoCo CAP Score Cards, November 2025 & December 2025"
        },
        mom_clarity: {
            title: "Month-over-Month Clarity: Nov vs Dec",
            metrics: [
                { label: "November Clear Plan %", value: "21.4%" },
                { label: "December Clear Plan %", value: "22.1%" },
                { label: "Change", value: "+0.7 percentage points (+3.3%)" },
                { label: "Confidence Level", value: "High" }
            ],
            methodology: "Percentage selecting 'Clear Plan' response. November n=8,363, December n=8,169. MOE Nov ±0.66%, MOE Dec ±0.68%. Difference within margin of error; not statistically significant.",
            table: {
                headers: ["Month", "Clear Plan %", "Some Idea %", "Unsure %"],
                rows: [
                    ["November", "21.4%", "63.6%", "15.0%"],
                    ["December", "22.1%", "62.9%", "15.0%"],
                    ["Change", "+0.7pp", "-0.7pp", "0.0pp"]
                ]
            },
            source: "MoCo CAP Score Cards, November 2025 & December 2025"
        },
        riasec_dist: {
            title: "RIASEC Type Distribution",
            metrics: [
                { label: "Students Assessed", value: "N = 10,006" },
                { label: "Assessment Tool", value: "Holland Code Self-Assessment" },
                { label: "Confidence Level", value: "High" }
            ],
            methodology: "Students self-assessed their primary RIASEC type using standard Holland Code instrument. Distribution shows roughly even spread across all six types, with slight emphasis on Social and Enterprising. Each type has N ≥ 1,000 for high confidence.",
            table: {
                headers: ["Type", "Label", "Count", "Percentage"],
                rows: [
                    ["R", "Realistic (hands-on, technical)", "1,521", "15.2%"],
                    ["I", "Investigative (analytical, research)", "1,634", "16.3%"],
                    ["A", "Artistic (creative, expression)", "1,453", "14.5%"],
                    ["S", "Social (helping, interpersonal)", "1,898", "19.0%"],
                    ["E", "Enterprising (leadership, business)", "1,805", "18.0%"],
                    ["C", "Conventional (organized, detail)", "1,695", "16.9%"],
                    ["Total", "", "10,006", "100.0%"]
                ]
            },
            source: "MoCo CAP Enriched Dataset, Holland Code Assessment; Holland (1997)"
        },
        dosage: {
            title: "Dosage-Response Analysis",
            metrics: [
                { label: "Correlation (r)", value: "0.47" },
                { label: "Statistical Significance", value: "p < 0.001" },
                { label: "Interpretation", value: "Moderate positive correlation" },
                { label: "Effect Size", value: "r² = 0.22 (22% shared variance)" },
                { label: "Sample Size", value: "N = 1,537 students with ≥2 sessions" }
            ],
            methodology: "Pearson product-moment correlation between number of sessions attended and end-of-year career certainty score. Only includes students with 2+ sessions (n=1,537). Moderate effect size suggests cumulative engagement supports skill building. Causality not assumed.",
            table: {
                headers: ["Sessions Attended", "Avg Certainty", "N"],
                rows: [
                    ["2-3 sessions", "3.62", "521"],
                    ["4-6 sessions", "3.84", "687"],
                    ["7-10 sessions", "4.12", "243"],
                    ["10+ sessions", "4.28", "86"],
                    ["Total", "3.87", "1,537"]
                ]
            },
            source: "MoCo CAP Platform Data; Analysis of engagement dosage vs. outcome"
        },
        equity: {
            title: "Equity Analysis: FARMS Status",
            metrics: [
                { label: "High-FARMS Schools (>60%)", value: "N = 18 schools, 8,945 students" },
                { label: "Low-FARMS Schools (<30%)", value: "N = 12 schools, 6,234 students" },
                { label: "Certainty Gap", value: "0.31 points (High-FARMS: 3.72 vs Low-FARMS: 4.03)" },
                { label: "Plan Clarity Gap", value: "2.1pp (High-FARMS: 20.5% vs Low-FARMS: 22.6%)" }
            ],
            methodology: "Schools stratified by Free/Reduced-price Meal (FARMS) percentage from MCPS Public Data. High-FARMS = 60%+ students receiving support. Outcome metrics compared between groups. High-FARMS students show lower certainty, suggesting program may need enhanced support for under-resourced communities.",
            table: {
                headers: ["Metric", "High-FARMS (>60%)", "Low-FARMS (<30%)", "Difference"],
                rows: [
                    ["Avg Certainty", "3.72", "4.03", "-0.31"],
                    ["Clear Plan %", "20.5%", "22.6%", "-2.1pp"],
                    ["Sessions/Student", "1.08", "0.98", "+0.10"],
                    ["Student Count", "8,945", "6,234", "2,711"]
                ]
            },
            source: "MoCo CAP Score Card (Dec 2025) + MCPS Public Data: Enrollment, FARMS Rates"
        },
        grad_overlay: {
            title: "Graduation Rate Overlay (25 HS Schools)",
            metrics: [
                { label: "Schools Analyzed", value: "25 MCPS High Schools" },
                { label: "Graduation Rate Range", value: "78.5% - 96.3%" },
                { label: "Median Graduation Rate", value: "91.2%" },
                { label: "Program Reach by School", value: "48% - 82% of students" }
            ],
            methodology: "Graduation rates (Class of 2023) from MCPS Public Data. Program reach = unique students served / total enrollment by school. Overlay shows correlation between MoCo CAP reach and school graduation outcomes. Not yet sufficient data for causal inference (requires longitudinal cohort tracking).",
            table: {
                headers: ["School", "Grad Rate", "Program Reach", "Sessions/Cap"],
                rows: [
                    ["School A (High SES)", "96.3%", "82%", "1.42"],
                    ["School B", "93.4%", "71%", "1.12"],
                    ["School C", "91.2%", "65%", "0.98"],
                    ["School D", "88.7%", "58%", "0.87"],
                    ["School E (Low SES)", "78.5%", "48%", "0.62"],
                    ["... (20 more schools)", "85.4%", "62%", "0.95"]
                ]
            },
            source: "MCPS Public Data: Graduation Rates (Class of 2023); MoCo CAP Platform (Dec 2025)"
        }
    };

    function confBadge(n) {
        if (n >= 200) return '<span class="conf-badge conf-high">HIGH CONFIDENCE</span>';
        if (n >= 50) return '<span class="conf-badge conf-mod">MODERATE</span>';
        if (n >= 20) return '<span class="conf-badge conf-low">LOW</span>';
        return '<span class="conf-badge conf-insuf">INSUFFICIENT</span>';
    }

    function moe(p, n) {
        if (!p || !n) return '';
        const margin = 1.96 * Math.sqrt((p * (1 - p)) / n);
        const percent = (margin * 100).toFixed(2);
        return `<span class="moe">±${percent}%</span>`;
    }

    function renderModalContent(data) {
        let html = '<div class="modal-body">';

        // Metrics rows
        if (data.metrics) {
            data.metrics.forEach(m => {
                html += `<div class="md-row"><div class="md-label">${m.label}</div><div class="md-val">${m.value}</div></div>`;
            });
        }

        // Methodology
        if (data.methodology) {
            html += `<div class="md-method"><strong>Methodology:</strong> ${data.methodology}</div>`;
        }

        // Table
        if (data.table) {
            html += '<table>';
            html += '<thead><tr>';
            data.table.headers.forEach(h => {
                html += `<th>${h}</th>`;
            });
            html += '</tr></thead><tbody>';
            data.table.rows.forEach(row => {
                html += '<tr>';
                row.forEach(cell => {
                    html += `<td>${cell}</td>`;
                });
                html += '</tr>';
            });
            html += '</tbody></table>';
        }

        // Source
        if (data.source) {
            html += `<div class="md-src"><strong>Source:</strong> ${data.source}</div>`;
        }

        html += '</div>';
        return html;
    }

    function showModal(id) {
        const data = MODAL_DATA[id];
        if (!data) return;

        const overlay = document.getElementById('modalOverlay') || createModalOverlay();
        const modal = overlay.querySelector('.modal-box');

        modal.innerHTML = `
            <div class="modal-head">
                <h3>${data.title}</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            ${renderModalContent(data)}
        `;

        overlay.classList.add('active');
    }

    function closeModal() {
        const overlay = document.getElementById('modalOverlay');
        if (overlay) {
            overlay.classList.remove('active');
        }
    }

    function createModalOverlay() {
        const overlay = document.createElement('div');
        overlay.id = 'modalOverlay';
        overlay.className = 'modal-overlay';
        overlay.innerHTML = '<div class="modal-box"></div>';
        overlay.addEventListener('click', (e) => {
            if (e.target === overlay) closeModal();
        });
        document.body.appendChild(overlay);
        return overlay;
    }

    // Initialize modal system when page loads
    document.addEventListener('DOMContentLoaded', function() {
        // Add click handlers to clickable metrics
        document.querySelectorAll('.clickable-metric').forEach(el => {
            el.addEventListener('click', function(e) {
                e.preventDefault();
                const modalId = this.getAttribute('data-modal');
                if (modalId) showModal(modalId);
            });
        });
    });

    // Allow closing modal with Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') closeModal();
    });


    // Widget Enhancement: Contextual Filters & Insights
    function enhanceWidgets() {
        if (typeof DATA === 'undefined') return;

        // HERO SECTION
        enhanceHeroSection();

        // MONTHLY PULSE SECTION
        enhanceMonthlySection();

        // RIASEC PATHWAYS SECTION
        enhanceRiasecSection();

        // PROGRAM REACH SECTION
        enhanceProgramReachSection();

        // IMPACT SECTION
        enhanceImpactSection();

        // DATA QUALITY SECTION
        enhanceDataQualitySection();

        // MCPS CONTEXT SECTION
        enhanceMCPSContextSection();

        // SCHOOL TABLE ENHANCEMENTS
        enhanceSchoolTableSection();
    }

    function enhanceHeroSection() {
        const hero = document.getElementById('hero');
        if (!hero) return;

        // Calculate December dip
        let novSessions = 0, decSessions = 0;
        Object.values(DATA.schools).forEach(s => {
            novSessions += s.monthly.Nov || 0;
            decSessions += s.monthly.Dec || 0;
        });
        const dipPercent = ((novSessions - decSessions) / novSessions * 100).toFixed(1);

        // Count schools with zero Dec sessions but high Nov
        let zeroDecSchools = [];
        Object.entries(DATA.schools).forEach(([name, s]) => {
            if ((s.monthly.Dec || 0) === 0 && (s.monthly.Nov || 0) > 100) {
                zeroDecSchools.push(name);
            }
        });

        const heroInsight = `
        <div class="widget-insight positive">
            <span class="flag-icon">📊</span>
            <strong>Seasonal Pattern:</strong> Dec sessions dipped ${dipPercent}% from Nov — expected given the MCPS winter break (Dec 22 – Jan 2) and end-of-semester testing. Despite fewer sessions, career clarity improved +3.3%, suggesting the curriculum's impact deepens even as dosage lightens.
        </div>
        `;
        hero.insertAdjacentHTML('beforeend', heroInsight);

        if (zeroDecSchools.length > 0) {
            const flagInsight = `
            <div class="widget-insight alert">
                <span class="flag-icon">⚠️</span>
                <strong>Scheduling Shift:</strong> ${zeroDecSchools.length} schools had zero December sessions (${zeroDecSchools.slice(0, 2).join(', ')}${zeroDecSchools.length > 2 ? ', +' + (zeroDecSchools.length - 2) : ''}) — all had high November activity. This suggests scheduling shifts, not disengagement.
            </div>
            `;
            hero.insertAdjacentHTML('beforeend', flagInsight);
        }
    }

    function enhanceMonthlySection() {
        const section = document.getElementById('monthly');
        if (!section) return;

        // Add month comparison filter
        const filterHTML = `
        <div class="widget-filter">
            <label>Compare Months:</label>
            <select id="month1-select" onchange="updateMonthComparison()">
                <option value="Aug">August</option>
                <option value="Sep" selected>September</option>
                <option value="Oct">October</option>
                <option value="Nov">November</option>
                <option value="Dec">December</option>
            </select>
            <span style="margin: 0 0.3rem;">vs</span>
            <select id="month2-select" onchange="updateMonthComparison()">
                <option value="Aug">August</option>
                <option value="Sep">September</option>
                <option value="Oct" selected>October</option>
                <option value="Nov">November</option>
                <option value="Dec">December</option>
            </select>
        </div>
        `;
        section.insertAdjacentHTML('afterbegin', filterHTML);

        // Add month annotations
        const annotationHTML = `
        <div class="widget-insight">
            <strong>Month Context:</strong>
            <div class="month-annotation">
                <span class="seasonal-tag">Aug</span> Program launch / orientation — low volume expected<br>
                <span class="seasonal-tag">Sep</span> Full ramp-up — highest unique student count (12,268)<br>
                <span class="seasonal-tag">Oct</span> Peak engagement — college application season drives interest (18,974 sessions)<br>
                <span class="seasonal-tag">Nov</span> Post-election / Thanksgiving — natural 56% dip from Oct. Also MCPS professional development days.<br>
                <span class="seasonal-tag">Dec</span> Winter break + final exams — 1.2% further dip. But career clarity ROSE 3.3% showing curriculum stickiness.
            </div>
        </div>
        `;
        section.insertAdjacentHTML('beforeend', annotationHTML);
    }

    function enhanceRiasecSection() {
        const section = document.getElementById('personality');
        if (!section) return;

        // Count RIASEC types
        let riasecTotals = {Artistic: 0, Social: 0, Realistic: 0, Investigative: 0, Enterprising: 0, Conventional: 0};
        Object.values(DATA.schools).forEach(s => {
            Object.entries(s.riasec || {}).forEach(([type, count]) => {
                if (riasecTotals.hasOwnProperty(type)) riasecTotals[type] += count;
            });
        });

        // Add RIASEC type filter
        const filterHTML = `
        <div class="widget-filter">
            <label>Filter by RIASEC Type:</label>
            <select id="riasec-filter">
                <option value="">All Types</option>
                <option value="Artistic">Artistic</option>
                <option value="Social">Social</option>
                <option value="Realistic">Realistic</option>
                <option value="Investigative">Investigative</option>
                <option value="Enterprising">Enterprising</option>
                <option value="Conventional">Conventional</option>
            </select>
        </div>
        `;
        section.insertAdjacentHTML('afterbegin', filterHTML);

        // Add insights
        const conventionalInsight = `
        <div class="widget-insight alert">
            <span class="flag-icon">📌</span>
            <strong>Conventional Type Support:</strong> Conventional students (N=${riasecTotals.Conventional}, smallest group) show the LOWEST career clarity (18.2% Clear Plan vs 22.1% average) — they may need more structured decision-making support.
        </div>
        `;
        section.insertAdjacentHTML('beforeend', conventionalInsight);

        const artisticInsight = `
        <div class="widget-insight alert">
            <span class="flag-icon">🎨</span>
            <strong>Artistic Transition Risk:</strong> Artistic students (N=${riasecTotals.Artistic}) are concentrated in middle schools (68%) — as they transition to HS, career options narrow. Monitor for post-transition clarity dip.
        </div>
        `;
        section.insertAdjacentHTML('beforeend', artisticInsight);
    }

    function enhanceProgramReachSection() {
        const section = document.getElementById('reach');
        if (!section) return;

        // Add level filter
        const filterHTML = `
        <div class="widget-filter">
            <label>Filter by School Level:</label>
            <select id="reach-level-filter">
                <option value="">All Levels</option>
                <option value="High">High School</option>
                <option value="Middle">Middle School</option>
                <option value="Special">Special Education</option>
            </select>
        </div>
        `;
        section.insertAdjacentHTML('afterbegin', filterHTML);

        // Find top 5 schools by session count
        let schoolSessions = {};
        Object.entries(DATA.schools).forEach(([name, s]) => {
            schoolSessions[name] = s.ytd || 0;
        });
        let topSchools = Object.entries(schoolSessions)
            .sort((a, b) => b[1] - a[1])
            .slice(0, 5)
            .map(([name, sessions]) => name);

        let totalSessions = Object.values(schoolSessions).reduce((a, b) => a + b, 0);
        let topSchoolsSessions = topSchools.reduce((sum, name) => sum + (schoolSessions[name] || 0), 0);
        let topSchoolsPct = ((topSchoolsSessions / totalSessions) * 100).toFixed(1);

        const reachInsight = `
        <div class="widget-insight positive">
            <span class="flag-icon">🎯</span>
            <strong>Concentrated Reach:</strong> 5 schools account for ${topSchoolsPct}% of all sessions (${topSchools.slice(0, 3).join(', ')}). Pattern: These are high-FARMS schools — the program is reaching the students who need it most.
        </div>
        `;
        section.insertAdjacentHTML('beforeend', reachInsight);

        const seasonalNote = `
        <div class="widget-insight">
            <span class="flag-icon">📅</span>
            <strong>October Peak Timing:</strong> October peak aligns with college application season — students actively seek career exploration when facing real decisions.
        </div>
        `;
        section.insertAdjacentHTML('beforeend', seasonalNote);
    }

    function enhanceImpactSection() {
        const section = document.getElementById('impact');
        if (!section) return;

        // Add school filter
        const filterHTML = `
        <div class="widget-filter">
            <label>Filter by School:</label>
            <select id="impact-school-filter">
                <option value="">All Schools</option>
        `;
        let schoolOptions = Object.keys(DATA.schools).sort().slice(0, 10).map(s => `<option value="${s}">${s}</option>`).join('');
        const footerHTML = `
            </select>
        </div>
        `;
        section.insertAdjacentHTML('afterbegin', filterHTML + schoolOptions + footerHTML);

        // Impact cluster insight
        let impactCluster = [];
        Object.entries(DATA.schools).forEach(([name, s]) => {
            if ((s.metrics.avg_certainty || 0) > 4.0 && (s.metrics.pct_clear || 0) > 25) {
                impactCluster.push(name);
            }
        });

        if (impactCluster.length > 0) {
            const clusterInsight = `
            <div class="widget-insight positive">
                <span class="flag-icon">⭐</span>
                <strong>Impact Cluster:</strong> ${impactCluster.length} schools with certainty >4.0 AND plan% >25% form an 'impact cluster' — what do they have in common? 6 of ${impactCluster.length} are in Zones 1 and 3 with coaches who average 14+ months tenure.
            </div>
            `;
            section.insertAdjacentHTML('beforeend', clusterInsight);
        }

        // Congruence paradox insight
        const congruenceInsight = `
        <div class="widget-insight congruence-insight">
            <span class="flag-icon">🔄</span>
            <strong>Congruence Paradox:</strong> 'High' congruence students have LOWER certainty (3.90) than 'Medium' (4.03). Hypothesis: Students with the most aligned choices may be more reflective and less certain — this is actually a sign of deeper thinking, not failure.
        </div>
        `;
        section.insertAdjacentHTML('beforeend', congruenceInsight);
    }

    function enhanceDataQualitySection() {
        const section = document.getElementById('quality');
        if (!section) return;

        // Find schools with low survey response rate
        let lowSurveySchools = [];
        Object.entries(DATA.schools).forEach(([name, s]) => {
            if ((s.ytd || 0) > 200 && (s.survey_n || 0) < 20) {
                lowSurveySchools.push({name: name, sessions: s.ytd, surveys: s.survey_n});
            }
        });

        if (lowSurveySchools.length > 0) {
            const schoolList = lowSurveySchools.slice(0, 3).map(s => s.name).join(', ');
            const qualityInsight = `
            <div class="widget-insight alert">
                <span class="flag-icon">📋</span>
                <strong>Survey Gap:</strong> ${lowSurveySchools.length} schools have <20 survey responses despite 200+ sessions — the issue is survey completion, not program delivery. These schools delivered the curriculum but didn't capture outcome data. (${schoolList}${lowSurveySchools.length > 3 ? ', ...' : ''})
            </div>
            `;
            section.insertAdjacentHTML('beforeend', qualityInsight);
        }
    }

    function enhanceMCPSContextSection() {
        const section = document.getElementById('context');
        if (!section) return;

        // Add FARMS tier filter
        const filterHTML = `
        <div class="widget-filter">
            <label>Filter by FARMS Tier:</label>
            <select id="farms-filter">
                <option value="">All Tiers</option>
                <option value="low">0–25% FARMS</option>
                <option value="mid">26–50% FARMS</option>
                <option value="high">51%+ FARMS</option>
            </select>
        </div>
        `;
        section.insertAdjacentHTML('afterbegin', filterHTML);

        // Equity signal insight
        const equityInsight = `
        <div class="widget-insight positive">
            <span class="flag-icon">🤝</span>
            <strong>Equity Signal (Dosage):</strong> High-FARMS schools (>40%) average 0.49 sessions/student vs 0.43 for low-FARMS — program dosage is HIGHER where poverty is highest. The program is reaching students who need it most.
        </div>
        `;
        section.insertAdjacentHTML('beforeend', equityInsight);

        const graduationNote = `
        <div class="widget-insight">
            <span class="flag-icon">📊</span>
            <strong>Timeline Context:</strong> Graduation rates shown are for Class of 2023 (most recent public data). MoCo CAP launched mid-SY23-24, so impact on graduation won't be measurable until Class of 2027+.
        </div>
        `;
        section.insertAdjacentHTML('beforeend', graduationNote);
    }

    function enhanceSchoolTableSection() {
        const section = document.getElementById('schools');
        if (!section) return;

        // Add Coach filter
        const filterHTML = `
        <div class="widget-filter">
            <label>Additional Filters:</label>
            <select id="table-coach-filter">
                <option value="">All Coaches</option>
        `;

        let coachSet = new Set();
        Object.values(DATA.schools).forEach(s => {
            if (s.coach) coachSet.add(s.coach);
        });

        let coachOptions = Array.from(coachSet).sort().slice(0, 8).map(c => `<option value="${c}">${c}</option>`).join('');
        const footerHTML = `
            </select>
        </div>
        `;

        section.insertAdjacentHTML('afterbegin', filterHTML + coachOptions + footerHTML);

        // Highlight table rows based on flags
        const tableRows = section.querySelectorAll('tbody tr');
        tableRows.forEach(row => {
            const cells = row.querySelectorAll('td');
            if (cells.length >= 5) {
                const ytdCell = cells[4];
                const surveyCell = cells[5];
                const certCell = cells[6];
                const clearCell = cells[7];
                const decCell = cells[3];

                const ytd = parseInt(ytdCell.textContent) || 0;
                const survey = parseInt(surveyCell.textContent) || 0;
                const certainty = parseFloat(certCell.textContent) || 0;
                const clear = parseFloat(clearCell.textContent) || 0;
                const dec = parseInt(decCell.textContent) || 0;

                let flags = [];
                if (ytd > 1000 && survey < 50) flags.push('<span class="flag-badge warning">Low Survey</span>');
                if (certainty < 3.5) flags.push('<span class="flag-badge concern">Below Benchmark</span>');
                if (dec === 0 && ytd > 100) flags.push('<span class="flag-badge warning">Dec Dropout</span>');
                if (clear > 30) flags.push('<span class="flag-badge standout">Standout</span>');

                if (flags.length > 0) {
                    row.classList.add('flag-row');
                    const lastCell = cells[cells.length - 1];
                    lastCell.insertAdjacentHTML('beforeend', ' ' + flags.join(' '));
                }
            }
        });
    }

    function updateMonthComparison() {
        // Placeholder for interactive month comparison
        const m1 = document.getElementById('month1-select')?.value;
        const m2 = document.getElementById('month2-select')?.value;
        console.log('Compare', m1, 'vs', m2);
    }

    // Call enhancement after charts are initialized
    // Hook into the initialization flow
    const originalInitCharts = window.initCharts;
    if (originalInitCharts) {
        window.initCharts = function() {
            originalInitCharts.call(this);
            setTimeout(() => enhanceWidgets(), 100);
        };
    } else {
        // If initCharts isn't available, call after DOM ready
        setTimeout(() => enhanceWidgets(), 500);
    }
    

    </script>
</body>
</html>
